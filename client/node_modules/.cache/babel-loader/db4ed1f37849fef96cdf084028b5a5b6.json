{"ast":null,"code":"import _slicedToArray from\"D:/login_and_register - Copy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect}from\"react\";import axios from\"axios\";import{useState}from\"react\";import{useHistory}from\"react-router-dom\";import\"./Admin.css\";import\"semantic-ui-css/semantic.min.css\";import{Icon}from\"semantic-ui-react\";import{Loader}from\"semantic-ui-react\";import moment from\"moment\";import{AnimatePresence,motion}from\"framer-motion\";import SideNav,{Toggle,Nav,NavItem,NavIcon,NavText}from\"@trendmicro/react-sidenav\";// Be sure to include styles at some point, probably during your bootstraping\nimport\"@trendmicro/react-sidenav/dist/react-sidenav.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Admin(){var history=useHistory();var location=useHistory();var _useState=useState(true),_useState2=_slicedToArray(_useState,2),active=_useState2[0],setactive=_useState2[1];//loader\n//-------------------------------------------\nvar _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),name=_useState4[0],setname=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),point=_useState6[0],setpoint=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),pendingpromotion=_useState8[0],setpendingpromotion=_useState8[1];axios.defaults.withCredentials=true;//-------------------------------------------\nvar logout=function logout(){axios.get(\"/logout\");history.push(\"/home\");};var acceptpromotion=function acceptpromotion(a,b,c,d,e,f,g,h){axios.post(\"/acceptpromotionpoint\",{req_id:a,shop_name:b,product_name:c,product_code:d,amount_point:e,picture:f,category:g,expired:h}).then(function(response){if(response.data.message){alert(response.data.message);history.go();}});};var disacceptpromotion=function disacceptpromotion(id){axios.put(\"/disacceptpromotion/\".concat(id)).then(function(response){if(response.data.message){alert(response.data.message);history.go();}});};/* ********************************** */var pageTransition={in:{opacity:1,x:0},out:{opacity:0,x:\"-100vh\"}};/* ********************************** */useEffect(function(){var timer=setTimeout(function(){setactive(false);axios.get(\"http://localhost:3001/login\").then(function(response){if(response.data.loggedIn===true&&response.data.user[0].role===\"admin\"){setname(response.data.user[0].name);setpoint(response.data.user[0].point);axios.get(\"/getpromotionrequest\").then(function(response){if(response.data){setpendingpromotion(response.data);}});}else{history.push(\"/login\");}});},2000);return function(){return clearTimeout(timer);};},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"adminpage\",children:[/*#__PURE__*/_jsxs(SideNav,{style:{background:\"black\"},onSelect:function onSelect(selected){// Add your code here\nvar to=\"/\"+selected;if(location.pathname!==to){history.push(to);}},children:[/*#__PURE__*/_jsx(SideNav.Toggle,{}),/*#__PURE__*/_jsxs(SideNav.Nav,{defaultSelected:\"home\",children:[/*#__PURE__*/_jsxs(NavItem,{eventKey:\"\",children:[/*#__PURE__*/_jsx(NavIcon,{children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-fw fa-home\",style:{fontSize:\"1.75em\"}})}),/*#__PURE__*/_jsx(NavText,{children:\"Home\"})]}),/*#__PURE__*/_jsxs(NavItem,{onClick:logout,children:[/*#__PURE__*/_jsx(NavIcon,{children:/*#__PURE__*/_jsx(Icon,{name:\"log out\",style:{fontSize:\"1.75em\"}})}),/*#__PURE__*/_jsx(NavText,{children:\"Logout\"})]})]})]}),/*#__PURE__*/_jsxs(motion.div,{initial:\"out\",animate:\"in\",exit:\"out\",variants:pageTransition,children:[/*#__PURE__*/_jsx(Loader,{active:active}),/*#__PURE__*/_jsxs(\"div\",{className:\"data-container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"h1-admin\",children:\"Admin\"}),/*#__PURE__*/_jsxs(\"h2\",{className:\"h1-admin\",children:[\"Hi \",name]}),/*#__PURE__*/_jsxs(\"h2\",{className:\"h1-admin\",children:[\"point : \",point]}),/*#__PURE__*/_jsx(\"div\",{class:\"table-wrapper-scroll-y my-custom-scrollbar\",children:/*#__PURE__*/_jsxs(\"table\",{class:\"table table-bordered table-striped mb-0\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"th-table\",scope:\"col\",children:\"request id\"}),/*#__PURE__*/_jsx(\"th\",{className:\"th-table\",scope:\"col\",children:\"shop name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"th-table\",scope:\"col\",children:\"product name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"th-table\",scope:\"col\",children:\"product code\"}),/*#__PURE__*/_jsx(\"th\",{className:\"th-table\",scope:\"col\",children:\"point\"}),/*#__PURE__*/_jsx(\"th\",{className:\"th-table\",scope:\"col\",children:\"category\"}),/*#__PURE__*/_jsx(\"th\",{className:\"th-table\",scope:\"col\",children:\"expired\"}),/*#__PURE__*/_jsx(\"th\",{className:\"th-table\",scope:\"col\",children:\"\\u0E15\\u0E31\\u0E27\\u0E40\\u0E25\\u0E37\\u0E2D\\u0E01\"})]})}),pendingpromotion.map(function(show){return/*#__PURE__*/_jsx(\"tbody\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"td-table\",children:/*#__PURE__*/_jsx(\"p\",{className:\"h1-admin\",children:show.id})}),/*#__PURE__*/_jsx(\"td\",{className:\"td-table\",children:/*#__PURE__*/_jsx(\"p\",{className:\"h1-admin\",children:show.shop_name})}),/*#__PURE__*/_jsx(\"td\",{className:\"td-table\",children:/*#__PURE__*/_jsx(\"p\",{className:\"h1-admin\",children:show.product_name})}),/*#__PURE__*/_jsx(\"td\",{className:\"td-table\",children:/*#__PURE__*/_jsx(\"p\",{className:\"h1-admin\",children:show.product_code})}),/*#__PURE__*/_jsx(\"td\",{className:\"td-table\",children:/*#__PURE__*/_jsx(\"p\",{className:\"h1-admin\",children:show.amount_point})}),/*#__PURE__*/_jsx(\"td\",{className:\"td-table\",children:/*#__PURE__*/_jsx(\"p\",{className:\"h1-admin\",children:show.category})}),/*#__PURE__*/_jsx(\"td\",{className:\"td-table\",children:/*#__PURE__*/_jsx(\"p\",{className:\"h1-admin\",children:moment(show.expired).format(\"DD/MM/YYYY\")})}),/*#__PURE__*/_jsxs(\"td\",{className:\"td-table\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"buttoncalculate-modal1\",onClick:function onClick(){acceptpromotion(show.id,show.shop_name,show.product_name,show.product_code,show.amount_point,show.picture,show.category,show.expired);},children:\"\\u0E2D\\u0E19\\u0E38\\u0E21\\u0E31\\u0E15\\u0E34\"}),/*#__PURE__*/_jsx(\"button\",{className:\"buttoncalculate-modal2\",onClick:function onClick(){disacceptpromotion(show.id);},children:\"\\u0E44\\u0E21\\u0E48\\u0E2D\\u0E19\\u0E38\\u0E21\\u0E31\\u0E15\\u0E34\"})]})]})});})]})})]})]})]});}","map":{"version":3,"sources":["D:/login_and_register - Copy/client/src/components/Admin.js"],"names":["React","useEffect","axios","useState","useHistory","Icon","Loader","moment","AnimatePresence","motion","SideNav","Toggle","Nav","NavItem","NavIcon","NavText","Admin","history","location","active","setactive","name","setname","point","setpoint","pendingpromotion","setpendingpromotion","defaults","withCredentials","logout","get","push","acceptpromotion","a","b","c","d","e","f","g","h","post","req_id","shop_name","product_name","product_code","amount_point","picture","category","expired","then","response","data","message","alert","go","disacceptpromotion","id","put","pageTransition","in","opacity","x","out","timer","setTimeout","loggedIn","user","role","clearTimeout","background","selected","to","pathname","fontSize","map","show","format"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport \"./Admin.css\";\r\nimport \"semantic-ui-css/semantic.min.css\";\r\nimport { Icon } from \"semantic-ui-react\";\r\nimport { Loader } from \"semantic-ui-react\";\r\nimport moment from \"moment\";\r\nimport { AnimatePresence, motion } from \"framer-motion\";\r\n\r\nimport SideNav, {\r\n  Toggle,\r\n  Nav,\r\n  NavItem,\r\n  NavIcon,\r\n  NavText,\r\n} from \"@trendmicro/react-sidenav\";\r\n\r\n// Be sure to include styles at some point, probably during your bootstraping\r\nimport \"@trendmicro/react-sidenav/dist/react-sidenav.css\";\r\n\r\nexport default function Admin() {\r\n  const history = useHistory();\r\n  const location = useHistory();\r\n  const [active, setactive] = useState(true); //loader\r\n  //-------------------------------------------\r\n  const [name, setname] = useState(\"\");\r\n  const [point, setpoint] = useState();\r\n  const [pendingpromotion, setpendingpromotion] = useState([]);\r\n  axios.defaults.withCredentials = true;\r\n  //-------------------------------------------\r\n  const logout = () => {\r\n    axios.get(\"/logout\");\r\n    history.push(\"/home\");\r\n  };\r\n\r\n  const acceptpromotion = (a, b, c, d, e, f, g, h) => {\r\n    axios\r\n      .post(\"/acceptpromotionpoint\", {\r\n        req_id: a,\r\n        shop_name: b,\r\n        product_name: c,\r\n        product_code: d,\r\n        amount_point: e,\r\n        picture: f,\r\n        category: g,\r\n        expired: h,\r\n      })\r\n      .then((response) => {\r\n        if (response.data.message) {\r\n          alert(response.data.message);\r\n          history.go();\r\n        }\r\n      });\r\n  };\r\n\r\n  const disacceptpromotion = (id) => {\r\n    axios.put(`/disacceptpromotion/${id}`).then((response) => {\r\n      if (response.data.message) {\r\n        alert(response.data.message);\r\n        history.go();\r\n      }\r\n    });\r\n  };\r\n\r\n  /* ********************************** */\r\n\r\n  const pageTransition = {\r\n\r\n    in: {\r\n      opacity: 1,\r\n      x: 0,\r\n\r\n    },\r\n    out: {\r\n      opacity: 0,\r\n      x: \"-100vh\",\r\n\r\n    }\r\n  };\r\n\r\n\r\n  /* ********************************** */\r\n\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => {\r\n      setactive(false);\r\n      axios.get(\"http://localhost:3001/login\").then((response) => {\r\n        if (\r\n          response.data.loggedIn === true &&\r\n          response.data.user[0].role === \"admin\"\r\n        ) {\r\n          setname(response.data.user[0].name);\r\n          setpoint(response.data.user[0].point);\r\n          axios.get(\"/getpromotionrequest\").then((response) => {\r\n            if (response.data) {\r\n              setpendingpromotion(response.data);\r\n            }\r\n          });\r\n        } else {\r\n          history.push(\"/login\");\r\n        }\r\n      });\r\n    }, 2000);\r\n    return () => clearTimeout(timer);\r\n  }, []);\r\n\r\n\r\n\r\n  return (\r\n    <div className=\"adminpage\">\r\n      <SideNav\r\n        style={{ background: \"black\" }}\r\n        onSelect={(selected) => {\r\n          // Add your code here\r\n          const to = \"/\" + selected;\r\n          if (location.pathname !== to) {\r\n            history.push(to);\r\n          }\r\n        }}\r\n      >\r\n        <SideNav.Toggle />\r\n        <SideNav.Nav defaultSelected=\"home\">\r\n          <NavItem eventKey=\"\">\r\n            <NavIcon>\r\n              <i className=\"fa fa-fw fa-home\" style={{ fontSize: \"1.75em\" }} />\r\n            </NavIcon>\r\n            <NavText>Home</NavText>\r\n          </NavItem>\r\n          <NavItem onClick={logout}>\r\n            <NavIcon>\r\n              <Icon name=\"log out\" style={{ fontSize: \"1.75em\" }} />\r\n            </NavIcon>\r\n            <NavText>Logout</NavText>\r\n          </NavItem>\r\n        </SideNav.Nav>\r\n      </SideNav>\r\n\r\n      <motion.div initial=\"out\" animate=\"in\" exit=\"out\" variants={pageTransition}>\r\n        <Loader active={active} />\r\n        <div className=\"data-container\">\r\n          <h1 className=\"h1-admin\">Admin</h1>\r\n          <h2 className=\"h1-admin\">Hi {name}</h2>\r\n          <h2 className=\"h1-admin\">point : {point}</h2>\r\n\r\n          <div class=\"table-wrapper-scroll-y my-custom-scrollbar\">\r\n            <table class=\"table table-bordered table-striped mb-0\">\r\n              <thead>\r\n                <tr>\r\n                  <th className=\"th-table\" scope=\"col\">request id</th>\r\n                  <th className=\"th-table\" scope=\"col\">shop name</th>\r\n                  <th className=\"th-table\" scope=\"col\">product name</th>\r\n                  <th className=\"th-table\" scope=\"col\">product code</th>\r\n                  <th className=\"th-table\" scope=\"col\">point</th>\r\n                  <th className=\"th-table\" scope=\"col\">category</th>\r\n                  <th className=\"th-table\" scope=\"col\">expired</th>\r\n                  <th className=\"th-table\" scope=\"col\">ตัวเลือก</th>\r\n                </tr>\r\n              </thead>\r\n\r\n\r\n              {pendingpromotion.map((show) => {\r\n                return (\r\n\r\n                  <tbody>\r\n                    <tr>\r\n                      <td className=\"td-table\">\r\n                        <p className=\"h1-admin\">{show.id}</p>\r\n                      </td>\r\n                      <td className=\"td-table\">\r\n                        <p className=\"h1-admin\">{show.shop_name}</p>\r\n                      </td>\r\n                      <td className=\"td-table\">\r\n                        <p className=\"h1-admin\">{show.product_name}</p>\r\n                      </td>\r\n                      <td className=\"td-table\">\r\n                        <p className=\"h1-admin\">{show.product_code}</p>\r\n                      </td>\r\n                      <td className=\"td-table\">\r\n                        <p className=\"h1-admin\">{show.amount_point}</p>\r\n                      </td>\r\n                      <td className=\"td-table\">\r\n                        <p className=\"h1-admin\">{show.category}</p>\r\n                      </td>\r\n                      <td className=\"td-table\">\r\n                        <p className=\"h1-admin\">{moment(show.expired).format(\"DD/MM/YYYY\")}</p>\r\n                      </td>\r\n                      <td className=\"td-table\">\r\n                        <button className=\"buttoncalculate-modal1\"\r\n                          onClick={() => {\r\n                            acceptpromotion(\r\n                              show.id,\r\n                              show.shop_name,\r\n                              show.product_name,\r\n                              show.product_code,\r\n                              show.amount_point,\r\n                              show.picture,\r\n                              show.category,\r\n                              show.expired\r\n                            );\r\n                          }}\r\n                        >\r\n                          อนุมัติ\r\n                        </button>\r\n                        <button className=\"buttoncalculate-modal2\"\r\n                          onClick={() => {\r\n                            disacceptpromotion(show.id);\r\n                          }}\r\n                        >\r\n                          ไม่อนุมัติ\r\n                        </button>\r\n                      </td>\r\n                    </tr>\r\n                  </tbody>\r\n                );\r\n              })}\r\n\r\n            </table>\r\n\r\n          </div>\r\n        </div>\r\n      </motion.div>\r\n    </div >\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}