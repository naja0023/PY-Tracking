{"ast":null,"code":"var _jsxFileName = \"D:\\\\login_and_register - Copy\\\\client\\\\src\\\\components\\\\Admin.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport axios from 'axios';\nimport { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport './Admin.css';\nimport 'semantic-ui-css/semantic.min.css';\nimport { Icon } from 'semantic-ui-react';\nimport { Loader } from 'semantic-ui-react';\nimport moment from 'moment';\nimport { AnimatePresence, motion } from 'framer-motion';\nimport SideNav, { Toggle, Nav, NavItem, NavIcon, NavText } from '@trendmicro/react-sidenav'; // Be sure to include styles at some point, probably during your bootstraping\n\nimport '@trendmicro/react-sidenav/dist/react-sidenav.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Admin() {\n  _s();\n\n  const history = useHistory();\n  const location = useHistory();\n  const [active, setactive] = useState(true); //loader\n  //-------------------------------------------\n\n  const [name, setname] = useState('');\n  const [point, setpoint] = useState();\n  const [pendingpromotion, setpendingpromotion] = useState([]);\n  const [Txdata, setTxdata] = useState([]);\n  const [checkTxid, setcheckTxid] = useState([]);\n  const [keys, setkeys] = useState('');\n  axios.defaults.withCredentials = true; //-------------------------------------------\n\n  const logout = () => {\n    axios.get('/logout');\n    history.go(); //history.push(\"/\");\n  };\n\n  const acceptpromotion = (a, b, c, d, e, f, g, h) => {\n    axios.post('/acceptpromotionpoint', {\n      req_id: a,\n      shop_name: b,\n      product_name: c,\n      product_code: d,\n      amount_point: e,\n      picture: f,\n      category: g,\n      expired: h\n    }).then(response => {\n      if (response.data.message) {\n        alert(response.data.message);\n        history.go();\n      }\n    });\n  };\n\n  const disacceptpromotion = id => {\n    axios.put(`/disacceptpromotion/${id}`).then(response => {\n      if (response.data.message) {\n        alert(response.data.message);\n        history.go();\n      }\n    });\n  };\n\n  const checktransaction = () => {\n    setTxdata([]);\n    axios.get('/checktransaction/' + keys).then(response => {\n      if (response.data) {\n        setTxdata(response.data);\n      } else if (response.data.message) {\n        alert(response.data.message);\n      }\n    });\n  };\n\n  const checkidtransaction = id => {\n    axios.get('/checkidtransaction/' + id).then(response => {\n      if (response) {\n        setcheckTxid(response.data.data);\n        console.log(checkTxid);\n      }\n    });\n  };\n  /* ********************************** */\n\n\n  const pageTransition = {\n    in: {\n      opacity: 1,\n      x: 0\n    },\n    out: {\n      opacity: 0,\n      x: '-100vh'\n    }\n  };\n  /* ********************************** */\n\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setactive(false);\n      axios.get('/login').then(response => {\n        if (response.data.loggedIn === true && response.data.user[0].role === 'admin') {\n          setname(response.data.user[0].name);\n          setpoint(response.data.user[0].point);\n          axios.get('/getpromotionrequest').then(response => {\n            if (response.data) {\n              setpendingpromotion(response.data);\n            }\n          });\n        } else {\n          history.push('/login');\n        }\n      });\n    }, 2000);\n    return () => clearTimeout(timer);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"adminpage\",\n    children: [/*#__PURE__*/_jsxDEV(SideNav, {\n      style: {\n        background: 'black'\n      },\n      onSelect: selected => {\n        // Add your code here\n        const to = '/' + selected;\n\n        if (location.pathname !== to) {\n          history.push(to);\n        }\n      },\n      children: [/*#__PURE__*/_jsxDEV(SideNav.Toggle, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SideNav.Nav, {\n        defaultSelected: \"home\",\n        children: [/*#__PURE__*/_jsxDEV(NavItem, {\n          eventKey: \"\",\n          children: [/*#__PURE__*/_jsxDEV(NavIcon, {\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fa fa-fw fa-home\",\n              style: {\n                fontSize: '1.75em'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(NavText, {\n            children: \"Home\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(NavItem, {\n          onClick: logout,\n          children: [/*#__PURE__*/_jsxDEV(NavIcon, {\n            children: /*#__PURE__*/_jsxDEV(Icon, {\n              name: \"log out\",\n              style: {\n                fontSize: '1.75em'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(NavText, {\n            children: \"Logout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n      initial: \"out\",\n      animate: \"in\",\n      exit: \"out\",\n      variants: pageTransition,\n      children: [/*#__PURE__*/_jsxDEV(Loader, {\n        active: active\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"data-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"h1-admin\",\n          children: \"Admin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"h1-admin\",\n          children: [\"Hi \", name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"h1-admin\",\n          children: [\"point : \", point]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"table-wrapper-scroll-y my-custom-scrollbar\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            class: \"table table-bordered table-striped mb-0\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"th-table\",\n                  scope: \"col\",\n                  children: \"request id\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 174,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"th-table\",\n                  scope: \"col\",\n                  children: \"shop name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 177,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"th-table\",\n                  scope: \"col\",\n                  children: \"product name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 180,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"th-table\",\n                  scope: \"col\",\n                  children: \"product code\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 183,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"th-table\",\n                  scope: \"col\",\n                  children: \"point\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 186,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"th-table\",\n                  scope: \"col\",\n                  children: \"category\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 189,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"th-table\",\n                  scope: \"col\",\n                  children: \"expired\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 192,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"th-table\",\n                  scope: \"col\",\n                  children: \"\\u0E15\\u0E31\\u0E27\\u0E40\\u0E25\\u0E37\\u0E2D\\u0E01\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 195,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 15\n            }, this), pendingpromotion.map(show => {\n              return /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"td-table\",\n                    children: /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"h1-admin\",\n                      children: show.id\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 206,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 205,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"td-table\",\n                    children: /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"h1-admin\",\n                      children: show.shop_name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 209,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 208,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"td-table\",\n                    children: /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"h1-admin\",\n                      children: show.product_name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 212,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 211,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"td-table\",\n                    children: /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"h1-admin\",\n                      children: show.product_code\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 215,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 214,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"td-table\",\n                    children: /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"h1-admin\",\n                      children: show.amount_point\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 218,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 217,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"td-table\",\n                    children: /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"h1-admin\",\n                      children: show.category\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 221,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 220,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"td-table\",\n                    children: /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"h1-admin\",\n                      children: moment(show.expired).format('DD/MM/YYYY')\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 224,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 223,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"td-table\",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"buttoncalculate-modal1\",\n                      onClick: () => {\n                        acceptpromotion(show.id, show.shop_name, show.product_name, show.product_code, show.amount_point, show.picture, show.category, show.expired);\n                      },\n                      children: \"\\u0E2D\\u0E19\\u0E38\\u0E21\\u0E31\\u0E15\\u0E34\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 229,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"buttoncalculate-modal2\",\n                      onClick: () => {\n                        disacceptpromotion(show.id);\n                      },\n                      children: \"\\u0E44\\u0E21\\u0E48\\u0E2D\\u0E19\\u0E38\\u0E21\\u0E31\\u0E15\\u0E34\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 246,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 228,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 204,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 19\n              }, this);\n            })]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"table-wrapper-scroll-y my-custom-scrollbar\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"\\u0E15\\u0E23\\u0E27\\u0E08\\u0E2A\\u0E2D\\u0E1A transaction\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"Tx-id \\u0E2B\\u0E23\\u0E37\\u0E2D \\u0E40\\u0E1A\\u0E2D\\u0E23\\u0E4C\\u0E42\\u0E17\\u0E23\\u0E28\\u0E31\\u0E1E\\u0E17\\u0E4C\",\n            onChange: e => {\n              setkeys(e.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: checktransaction,\n            children: \"\\u0E04\\u0E49\\u0E19\\u0E2B\\u0E32\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n            class: \"table table-bordered table-striped mb-0\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"th-table\",\n                  scope: \"col\",\n                  children: \"\\u0E23\\u0E2B\\u0E31\\u0E2A\\u0E2D\\u0E49\\u0E32\\u0E07\\u0E2D\\u0E34\\u0E07\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 276,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"th-table\",\n                  scope: \"col\",\n                  children: \"\\u0E40\\u0E27\\u0E25\\u0E32\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 279,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"th-table\",\n                  scope: \"col\",\n                  children: \"\\u0E04\\u0E19\\u0E42\\u0E2D\\u0E19\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 282,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"th-table\",\n                  scope: \"col\",\n                  children: \"\\u0E04\\u0E19\\u0E23\\u0E31\\u0E1A\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 285,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"th-table\",\n                  scope: \"col\",\n                  children: \"\\u0E08\\u0E33\\u0E19\\u0E27\\u0E19\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 288,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 275,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 15\n            }, this), Txdata.map(val => {\n              return /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"td-table\",\n                    children: /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"h1-admin\",\n                      onClick: () => {\n                        checkidtransaction(val.Tx_id);\n                      },\n                      children: val.Tx_id\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 298,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 297,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"td-table\",\n                    children: /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"h1-admin\",\n                      children: moment(val.time).format('DD/MMMM/YYYY - LT')\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 308,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 307,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"td-table\",\n                    children: /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"h1-admin\",\n                      children: val.transferor\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 313,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 312,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"td-table\",\n                    children: /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"h1-admin\",\n                      children: val.recipient\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 316,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 315,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    className: \"td-table\",\n                    children: /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"h1-admin\",\n                      children: val.amount\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 319,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 318,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 296,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 295,\n                columnNumber: 19\n              }, this);\n            })]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 130,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Admin, \"GZlnNOHvguAgDNI6QhfAdLgv568=\", false, function () {\n  return [useHistory, useHistory];\n});\n\n_c = Admin;\n\nvar _c;\n\n$RefreshReg$(_c, \"Admin\");","map":{"version":3,"sources":["D:/login_and_register - Copy/client/src/components/Admin.js"],"names":["React","useEffect","axios","useState","useHistory","Icon","Loader","moment","AnimatePresence","motion","SideNav","Toggle","Nav","NavItem","NavIcon","NavText","Admin","history","location","active","setactive","name","setname","point","setpoint","pendingpromotion","setpendingpromotion","Txdata","setTxdata","checkTxid","setcheckTxid","keys","setkeys","defaults","withCredentials","logout","get","go","acceptpromotion","a","b","c","d","e","f","g","h","post","req_id","shop_name","product_name","product_code","amount_point","picture","category","expired","then","response","data","message","alert","disacceptpromotion","id","put","checktransaction","checkidtransaction","console","log","pageTransition","in","opacity","x","out","timer","setTimeout","loggedIn","user","role","push","clearTimeout","background","selected","to","pathname","fontSize","map","show","format","target","value","val","Tx_id","time","transferor","recipient","amount"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,OAAzB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAO,aAAP;AACA,OAAO,kCAAP;AACA,SAASC,IAAT,QAAqB,mBAArB;AACA,SAASC,MAAT,QAAuB,mBAAvB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,SAASC,eAAT,EAA0BC,MAA1B,QAAwC,eAAxC;AAEA,OAAOC,OAAP,IACEC,MADF,EAEEC,GAFF,EAGEC,OAHF,EAIEC,OAJF,EAKEC,OALF,QAMO,2BANP,C,CAQA;;AACA,OAAO,kDAAP;;AAEA,eAAe,SAASC,KAAT,GAAiB;AAAA;;AAC9B,QAAMC,OAAO,GAAGb,UAAU,EAA1B;AACA,QAAMc,QAAQ,GAAGd,UAAU,EAA3B;AACA,QAAM,CAACe,MAAD,EAASC,SAAT,IAAsBjB,QAAQ,CAAC,IAAD,CAApC,CAH8B,CAGa;AAC3C;;AACA,QAAM,CAACkB,IAAD,EAAOC,OAAP,IAAkBnB,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACoB,KAAD,EAAQC,QAAR,IAAoBrB,QAAQ,EAAlC;AACA,QAAM,CAACsB,gBAAD,EAAmBC,mBAAnB,IAA0CvB,QAAQ,CAAC,EAAD,CAAxD;AACA,QAAM,CAACwB,MAAD,EAASC,SAAT,IAAsBzB,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAAC0B,SAAD,EAAYC,YAAZ,IAA4B3B,QAAQ,CAAC,EAAD,CAA1C;AAEA,QAAM,CAAC4B,IAAD,EAAOC,OAAP,IAAkB7B,QAAQ,CAAC,EAAD,CAAhC;AACAD,EAAAA,KAAK,CAAC+B,QAAN,CAAeC,eAAf,GAAiC,IAAjC,CAZ8B,CAa9B;;AACA,QAAMC,MAAM,GAAG,MAAM;AACnBjC,IAAAA,KAAK,CAACkC,GAAN,CAAU,SAAV;AACAnB,IAAAA,OAAO,CAACoB,EAAR,GAFmB,CAGnB;AACD,GAJD;;AAMA,QAAMC,eAAe,GAAG,CAACC,CAAD,EAAIC,CAAJ,EAAOC,CAAP,EAAUC,CAAV,EAAaC,CAAb,EAAgBC,CAAhB,EAAmBC,CAAnB,EAAsBC,CAAtB,KAA4B;AAClD5C,IAAAA,KAAK,CACF6C,IADH,CACQ,uBADR,EACiC;AAC7BC,MAAAA,MAAM,EAAET,CADqB;AAE7BU,MAAAA,SAAS,EAAET,CAFkB;AAG7BU,MAAAA,YAAY,EAAET,CAHe;AAI7BU,MAAAA,YAAY,EAAET,CAJe;AAK7BU,MAAAA,YAAY,EAAET,CALe;AAM7BU,MAAAA,OAAO,EAAET,CANoB;AAO7BU,MAAAA,QAAQ,EAAET,CAPmB;AAQ7BU,MAAAA,OAAO,EAAET;AARoB,KADjC,EAWGU,IAXH,CAWSC,QAAD,IAAc;AAClB,UAAIA,QAAQ,CAACC,IAAT,CAAcC,OAAlB,EAA2B;AACzBC,QAAAA,KAAK,CAACH,QAAQ,CAACC,IAAT,CAAcC,OAAf,CAAL;AACA1C,QAAAA,OAAO,CAACoB,EAAR;AACD;AACF,KAhBH;AAiBD,GAlBD;;AAoBA,QAAMwB,kBAAkB,GAAIC,EAAD,IAAQ;AACjC5D,IAAAA,KAAK,CAAC6D,GAAN,CAAW,uBAAsBD,EAAG,EAApC,EAAuCN,IAAvC,CAA6CC,QAAD,IAAc;AACxD,UAAIA,QAAQ,CAACC,IAAT,CAAcC,OAAlB,EAA2B;AACzBC,QAAAA,KAAK,CAACH,QAAQ,CAACC,IAAT,CAAcC,OAAf,CAAL;AACA1C,QAAAA,OAAO,CAACoB,EAAR;AACD;AACF,KALD;AAMD,GAPD;;AASA,QAAM2B,gBAAgB,GAAG,MAAM;AAC7BpC,IAAAA,SAAS,CAAC,EAAD,CAAT;AACA1B,IAAAA,KAAK,CAACkC,GAAN,CAAU,uBAAuBL,IAAjC,EAAuCyB,IAAvC,CAA6CC,QAAD,IAAc;AACxD,UAAIA,QAAQ,CAACC,IAAb,EAAmB;AACjB9B,QAAAA,SAAS,CAAC6B,QAAQ,CAACC,IAAV,CAAT;AACD,OAFD,MAEO,IAAID,QAAQ,CAACC,IAAT,CAAcC,OAAlB,EAA2B;AAChCC,QAAAA,KAAK,CAACH,QAAQ,CAACC,IAAT,CAAcC,OAAf,CAAL;AACD;AACF,KAND;AAOD,GATD;;AAWA,QAAMM,kBAAkB,GAAIH,EAAD,IAAQ;AACjC5D,IAAAA,KAAK,CAACkC,GAAN,CAAU,yBAAyB0B,EAAnC,EAAuCN,IAAvC,CAA6CC,QAAD,IAAc;AACxD,UAAIA,QAAJ,EAAc;AACZ3B,QAAAA,YAAY,CAAC2B,QAAQ,CAACC,IAAT,CAAcA,IAAf,CAAZ;AACAQ,QAAAA,OAAO,CAACC,GAAR,CAAYtC,SAAZ;AACD;AACF,KALD;AAMD,GAPD;AAQA;;;AAEA,QAAMuC,cAAc,GAAG;AACrBC,IAAAA,EAAE,EAAE;AACFC,MAAAA,OAAO,EAAE,CADP;AAEFC,MAAAA,CAAC,EAAE;AAFD,KADiB;AAKrBC,IAAAA,GAAG,EAAE;AACHF,MAAAA,OAAO,EAAE,CADN;AAEHC,MAAAA,CAAC,EAAE;AAFA;AALgB,GAAvB;AAWA;;AAEAtE,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMwE,KAAK,GAAGC,UAAU,CAAC,MAAM;AAC7BtD,MAAAA,SAAS,CAAC,KAAD,CAAT;AACAlB,MAAAA,KAAK,CAACkC,GAAN,CAAU,QAAV,EAAoBoB,IAApB,CAA0BC,QAAD,IAAc;AACrC,YACEA,QAAQ,CAACC,IAAT,CAAciB,QAAd,KAA2B,IAA3B,IACAlB,QAAQ,CAACC,IAAT,CAAckB,IAAd,CAAmB,CAAnB,EAAsBC,IAAtB,KAA+B,OAFjC,EAGE;AACAvD,UAAAA,OAAO,CAACmC,QAAQ,CAACC,IAAT,CAAckB,IAAd,CAAmB,CAAnB,EAAsBvD,IAAvB,CAAP;AACAG,UAAAA,QAAQ,CAACiC,QAAQ,CAACC,IAAT,CAAckB,IAAd,CAAmB,CAAnB,EAAsBrD,KAAvB,CAAR;AACArB,UAAAA,KAAK,CAACkC,GAAN,CAAU,sBAAV,EAAkCoB,IAAlC,CAAwCC,QAAD,IAAc;AACnD,gBAAIA,QAAQ,CAACC,IAAb,EAAmB;AACjBhC,cAAAA,mBAAmB,CAAC+B,QAAQ,CAACC,IAAV,CAAnB;AACD;AACF,WAJD;AAKD,SAXD,MAWO;AACLzC,UAAAA,OAAO,CAAC6D,IAAR,CAAa,QAAb;AACD;AACF,OAfD;AAgBD,KAlBuB,EAkBrB,IAlBqB,CAAxB;AAmBA,WAAO,MAAMC,YAAY,CAACN,KAAD,CAAzB;AACD,GArBQ,EAqBN,EArBM,CAAT;AAuBA,sBACE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA,4BACE,QAAC,OAAD;AACE,MAAA,KAAK,EAAE;AAAEO,QAAAA,UAAU,EAAE;AAAd,OADT;AAEE,MAAA,QAAQ,EAAGC,QAAD,IAAc;AACtB;AACA,cAAMC,EAAE,GAAG,MAAMD,QAAjB;;AACA,YAAI/D,QAAQ,CAACiE,QAAT,KAAsBD,EAA1B,EAA8B;AAC5BjE,UAAAA,OAAO,CAAC6D,IAAR,CAAaI,EAAb;AACD;AACF,OARH;AAAA,8BAUE,QAAC,OAAD,CAAS,MAAT;AAAA;AAAA;AAAA;AAAA,cAVF,eAWE,QAAC,OAAD,CAAS,GAAT;AAAa,QAAA,eAAe,EAAC,MAA7B;AAAA,gCACE,QAAC,OAAD;AAAS,UAAA,QAAQ,EAAC,EAAlB;AAAA,kCACE,QAAC,OAAD;AAAA,mCACE;AAAG,cAAA,SAAS,EAAC,kBAAb;AAAgC,cAAA,KAAK,EAAE;AAAEE,gBAAAA,QAAQ,EAAE;AAAZ;AAAvC;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBADF,eAIE,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAJF;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAOE,QAAC,OAAD;AAAS,UAAA,OAAO,EAAEjD,MAAlB;AAAA,kCACE,QAAC,OAAD;AAAA,mCACE,QAAC,IAAD;AAAM,cAAA,IAAI,EAAC,SAAX;AAAqB,cAAA,KAAK,EAAE;AAAEiD,gBAAAA,QAAQ,EAAE;AAAZ;AAA5B;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBADF,eAIE,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAJF;AAAA;AAAA;AAAA;AAAA;AAAA,gBAPF;AAAA;AAAA;AAAA;AAAA;AAAA,cAXF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eA4BE,QAAC,MAAD,CAAQ,GAAR;AACE,MAAA,OAAO,EAAC,KADV;AAEE,MAAA,OAAO,EAAC,IAFV;AAGE,MAAA,IAAI,EAAC,KAHP;AAIE,MAAA,QAAQ,EAAEhB,cAJZ;AAAA,8BAME,QAAC,MAAD;AAAQ,QAAA,MAAM,EAAEjD;AAAhB;AAAA;AAAA;AAAA;AAAA,cANF,eAOE;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAA,gCACE;AAAI,UAAA,SAAS,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAI,UAAA,SAAS,EAAC,UAAd;AAAA,4BAA6BE,IAA7B;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,eAGE;AAAI,UAAA,SAAS,EAAC,UAAd;AAAA,iCAAkCE,KAAlC;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHF,eAKE;AAAK,UAAA,KAAK,EAAC,4CAAX;AAAA,iCACE;AAAO,YAAA,KAAK,EAAC,yCAAb;AAAA,oCACE;AAAA,qCACE;AAAA,wCACE;AAAI,kBAAA,SAAS,EAAC,UAAd;AAAyB,kBAAA,KAAK,EAAC,KAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eAIE;AAAI,kBAAA,SAAS,EAAC,UAAd;AAAyB,kBAAA,KAAK,EAAC,KAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAJF,eAOE;AAAI,kBAAA,SAAS,EAAC,UAAd;AAAyB,kBAAA,KAAK,EAAC,KAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAPF,eAUE;AAAI,kBAAA,SAAS,EAAC,UAAd;AAAyB,kBAAA,KAAK,EAAC,KAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAVF,eAaE;AAAI,kBAAA,SAAS,EAAC,UAAd;AAAyB,kBAAA,KAAK,EAAC,KAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAbF,eAgBE;AAAI,kBAAA,SAAS,EAAC,UAAd;AAAyB,kBAAA,KAAK,EAAC,KAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAhBF,eAmBE;AAAI,kBAAA,SAAS,EAAC,UAAd;AAAyB,kBAAA,KAAK,EAAC,KAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAnBF,eAsBE;AAAI,kBAAA,SAAS,EAAC,UAAd;AAAyB,kBAAA,KAAK,EAAC,KAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAtBF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBADF,EA8BGE,gBAAgB,CAAC4D,GAAjB,CAAsBC,IAAD,IAAU;AAC9B,kCACE;AAAA,uCACE;AAAA,0CACE;AAAI,oBAAA,SAAS,EAAC,UAAd;AAAA,2CACE;AAAG,sBAAA,SAAS,EAAC,UAAb;AAAA,gCAAyBA,IAAI,CAACxB;AAA9B;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,0BADF,eAIE;AAAI,oBAAA,SAAS,EAAC,UAAd;AAAA,2CACE;AAAG,sBAAA,SAAS,EAAC,UAAb;AAAA,gCAAyBwB,IAAI,CAACrC;AAA9B;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,0BAJF,eAOE;AAAI,oBAAA,SAAS,EAAC,UAAd;AAAA,2CACE;AAAG,sBAAA,SAAS,EAAC,UAAb;AAAA,gCAAyBqC,IAAI,CAACpC;AAA9B;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,0BAPF,eAUE;AAAI,oBAAA,SAAS,EAAC,UAAd;AAAA,2CACE;AAAG,sBAAA,SAAS,EAAC,UAAb;AAAA,gCAAyBoC,IAAI,CAACnC;AAA9B;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,0BAVF,eAaE;AAAI,oBAAA,SAAS,EAAC,UAAd;AAAA,2CACE;AAAG,sBAAA,SAAS,EAAC,UAAb;AAAA,gCAAyBmC,IAAI,CAAClC;AAA9B;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,0BAbF,eAgBE;AAAI,oBAAA,SAAS,EAAC,UAAd;AAAA,2CACE;AAAG,sBAAA,SAAS,EAAC,UAAb;AAAA,gCAAyBkC,IAAI,CAAChC;AAA9B;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,0BAhBF,eAmBE;AAAI,oBAAA,SAAS,EAAC,UAAd;AAAA,2CACE;AAAG,sBAAA,SAAS,EAAC,UAAb;AAAA,gCACG/C,MAAM,CAAC+E,IAAI,CAAC/B,OAAN,CAAN,CAAqBgC,MAArB,CAA4B,YAA5B;AADH;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,0BAnBF,eAwBE;AAAI,oBAAA,SAAS,EAAC,UAAd;AAAA,4CACE;AACE,sBAAA,SAAS,EAAC,wBADZ;AAEE,sBAAA,OAAO,EAAE,MAAM;AACbjD,wBAAAA,eAAe,CACbgD,IAAI,CAACxB,EADQ,EAEbwB,IAAI,CAACrC,SAFQ,EAGbqC,IAAI,CAACpC,YAHQ,EAIboC,IAAI,CAACnC,YAJQ,EAKbmC,IAAI,CAAClC,YALQ,EAMbkC,IAAI,CAACjC,OANQ,EAObiC,IAAI,CAAChC,QAPQ,EAQbgC,IAAI,CAAC/B,OARQ,CAAf;AAUD,uBAbH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADF,eAkBE;AACE,sBAAA,SAAS,EAAC,wBADZ;AAEE,sBAAA,OAAO,EAAE,MAAM;AACbM,wBAAAA,kBAAkB,CAACyB,IAAI,CAACxB,EAAN,CAAlB;AACD,uBAJH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAlBF;AAAA;AAAA;AAAA;AAAA;AAAA,0BAxBF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBADF;AAwDD,aAzDA,CA9BH;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBALF,eAmGE;AAAK,UAAA,KAAK,EAAC,4CAAX;AAAA,kCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AACE,YAAA,WAAW,EAAC,+GADd;AAEE,YAAA,QAAQ,EAAGnB,CAAD,IAAO;AACfX,cAAAA,OAAO,CAACW,CAAC,CAAC6C,MAAF,CAASC,KAAV,CAAP;AACD;AAJH;AAAA;AAAA;AAAA;AAAA,kBAFF,eAQE;AAAQ,YAAA,OAAO,EAAEzB,gBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBARF,eASE;AAAO,YAAA,KAAK,EAAC,yCAAb;AAAA,oCACE;AAAA,qCACE;AAAA,wCACE;AAAI,kBAAA,SAAS,EAAC,UAAd;AAAyB,kBAAA,KAAK,EAAC,KAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eAIE;AAAI,kBAAA,SAAS,EAAC,UAAd;AAAyB,kBAAA,KAAK,EAAC,KAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAJF,eAOE;AAAI,kBAAA,SAAS,EAAC,UAAd;AAAyB,kBAAA,KAAK,EAAC,KAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAPF,eAUE;AAAI,kBAAA,SAAS,EAAC,UAAd;AAAyB,kBAAA,KAAK,EAAC,KAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAVF,eAaE;AAAI,kBAAA,SAAS,EAAC,UAAd;AAAyB,kBAAA,KAAK,EAAC,KAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAbF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBADF,EAoBGrC,MAAM,CAAC0D,GAAP,CAAYK,GAAD,IAAS;AACnB,kCACE;AAAA,uCACE;AAAA,0CACE;AAAI,oBAAA,SAAS,EAAC,UAAd;AAAA,2CACE;AACE,sBAAA,SAAS,EAAC,UADZ;AAEE,sBAAA,OAAO,EAAE,MAAM;AACbzB,wBAAAA,kBAAkB,CAACyB,GAAG,CAACC,KAAL,CAAlB;AACD,uBAJH;AAAA,gCAMGD,GAAG,CAACC;AANP;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,0BADF,eAWE;AAAI,oBAAA,SAAS,EAAC,UAAd;AAAA,2CACE;AAAG,sBAAA,SAAS,EAAC,UAAb;AAAA,gCACGpF,MAAM,CAACmF,GAAG,CAACE,IAAL,CAAN,CAAiBL,MAAjB,CAAwB,mBAAxB;AADH;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,0BAXF,eAgBE;AAAI,oBAAA,SAAS,EAAC,UAAd;AAAA,2CACE;AAAG,sBAAA,SAAS,EAAC,UAAb;AAAA,gCAAyBG,GAAG,CAACG;AAA7B;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,0BAhBF,eAmBE;AAAI,oBAAA,SAAS,EAAC,UAAd;AAAA,2CACE;AAAG,sBAAA,SAAS,EAAC,UAAb;AAAA,gCAAyBH,GAAG,CAACI;AAA7B;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,0BAnBF,eAsBE;AAAI,oBAAA,SAAS,EAAC,UAAd;AAAA,2CACE;AAAG,sBAAA,SAAS,EAAC,UAAb;AAAA,gCAAyBJ,GAAG,CAACK;AAA7B;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,0BAtBF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBADF;AA8BD,aA/BA,CApBH;AAAA;AAAA;AAAA;AAAA;AAAA,kBATF;AAAA;AAAA;AAAA;AAAA;AAAA,gBAnGF;AAAA;AAAA;AAAA;AAAA;AAAA,cAPF;AAAA;AAAA;AAAA;AAAA;AAAA,YA5BF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AA0MD;;GApTuB/E,K;UACNZ,U,EACCA,U;;;KAFKY,K","sourcesContent":["import React, { useEffect } from 'react'\r\nimport axios from 'axios'\r\nimport { useState } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport './Admin.css'\r\nimport 'semantic-ui-css/semantic.min.css'\r\nimport { Icon } from 'semantic-ui-react'\r\nimport { Loader } from 'semantic-ui-react'\r\nimport moment from 'moment'\r\nimport { AnimatePresence, motion } from 'framer-motion'\r\n\r\nimport SideNav, {\r\n  Toggle,\r\n  Nav,\r\n  NavItem,\r\n  NavIcon,\r\n  NavText,\r\n} from '@trendmicro/react-sidenav'\r\n\r\n// Be sure to include styles at some point, probably during your bootstraping\r\nimport '@trendmicro/react-sidenav/dist/react-sidenav.css'\r\n\r\nexport default function Admin() {\r\n  const history = useHistory()\r\n  const location = useHistory()\r\n  const [active, setactive] = useState(true) //loader\r\n  //-------------------------------------------\r\n  const [name, setname] = useState('')\r\n  const [point, setpoint] = useState()\r\n  const [pendingpromotion, setpendingpromotion] = useState([])\r\n  const [Txdata, setTxdata] = useState([])\r\n  const [checkTxid, setcheckTxid] = useState([])\r\n\r\n  const [keys, setkeys] = useState('')\r\n  axios.defaults.withCredentials = true\r\n  //-------------------------------------------\r\n  const logout = () => {\r\n    axios.get('/logout')\r\n    history.go()\r\n    //history.push(\"/\");\r\n  }\r\n\r\n  const acceptpromotion = (a, b, c, d, e, f, g, h) => {\r\n    axios\r\n      .post('/acceptpromotionpoint', {\r\n        req_id: a,\r\n        shop_name: b,\r\n        product_name: c,\r\n        product_code: d,\r\n        amount_point: e,\r\n        picture: f,\r\n        category: g,\r\n        expired: h,\r\n      })\r\n      .then((response) => {\r\n        if (response.data.message) {\r\n          alert(response.data.message)\r\n          history.go()\r\n        }\r\n      })\r\n  }\r\n\r\n  const disacceptpromotion = (id) => {\r\n    axios.put(`/disacceptpromotion/${id}`).then((response) => {\r\n      if (response.data.message) {\r\n        alert(response.data.message)\r\n        history.go()\r\n      }\r\n    })\r\n  }\r\n\r\n  const checktransaction = () => {\r\n    setTxdata([])\r\n    axios.get('/checktransaction/' + keys).then((response) => {\r\n      if (response.data) {\r\n        setTxdata(response.data)\r\n      } else if (response.data.message) {\r\n        alert(response.data.message)\r\n      }\r\n    })\r\n  }\r\n\r\n  const checkidtransaction = (id) => {\r\n    axios.get('/checkidtransaction/' + id).then((response) => {\r\n      if (response) {\r\n        setcheckTxid(response.data.data)\r\n        console.log(checkTxid)\r\n      }\r\n    })\r\n  }\r\n  /* ********************************** */\r\n\r\n  const pageTransition = {\r\n    in: {\r\n      opacity: 1,\r\n      x: 0,\r\n    },\r\n    out: {\r\n      opacity: 0,\r\n      x: '-100vh',\r\n    },\r\n  }\r\n\r\n  /* ********************************** */\r\n\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => {\r\n      setactive(false)\r\n      axios.get('/login').then((response) => {\r\n        if (\r\n          response.data.loggedIn === true &&\r\n          response.data.user[0].role === 'admin'\r\n        ) {\r\n          setname(response.data.user[0].name)\r\n          setpoint(response.data.user[0].point)\r\n          axios.get('/getpromotionrequest').then((response) => {\r\n            if (response.data) {\r\n              setpendingpromotion(response.data)\r\n            }\r\n          })\r\n        } else {\r\n          history.push('/login')\r\n        }\r\n      })\r\n    }, 2000)\r\n    return () => clearTimeout(timer)\r\n  }, [])\r\n\r\n  return (\r\n    <div className=\"adminpage\">\r\n      <SideNav\r\n        style={{ background: 'black' }}\r\n        onSelect={(selected) => {\r\n          // Add your code here\r\n          const to = '/' + selected\r\n          if (location.pathname !== to) {\r\n            history.push(to)\r\n          }\r\n        }}\r\n      >\r\n        <SideNav.Toggle />\r\n        <SideNav.Nav defaultSelected=\"home\">\r\n          <NavItem eventKey=\"\">\r\n            <NavIcon>\r\n              <i className=\"fa fa-fw fa-home\" style={{ fontSize: '1.75em' }} />\r\n            </NavIcon>\r\n            <NavText>Home</NavText>\r\n          </NavItem>\r\n          <NavItem onClick={logout}>\r\n            <NavIcon>\r\n              <Icon name=\"log out\" style={{ fontSize: '1.75em' }} />\r\n            </NavIcon>\r\n            <NavText>Logout</NavText>\r\n          </NavItem>\r\n        </SideNav.Nav>\r\n      </SideNav>\r\n\r\n      <motion.div\r\n        initial=\"out\"\r\n        animate=\"in\"\r\n        exit=\"out\"\r\n        variants={pageTransition}\r\n      >\r\n        <Loader active={active} />\r\n        <div className=\"data-container\">\r\n          <h1 className=\"h1-admin\">Admin</h1>\r\n          <h2 className=\"h1-admin\">Hi {name}</h2>\r\n          <h2 className=\"h1-admin\">point : {point}</h2>\r\n\r\n          <div class=\"table-wrapper-scroll-y my-custom-scrollbar\">\r\n            <table class=\"table table-bordered table-striped mb-0\">\r\n              <thead>\r\n                <tr>\r\n                  <th className=\"th-table\" scope=\"col\">\r\n                    request id\r\n                  </th>\r\n                  <th className=\"th-table\" scope=\"col\">\r\n                    shop name\r\n                  </th>\r\n                  <th className=\"th-table\" scope=\"col\">\r\n                    product name\r\n                  </th>\r\n                  <th className=\"th-table\" scope=\"col\">\r\n                    product code\r\n                  </th>\r\n                  <th className=\"th-table\" scope=\"col\">\r\n                    point\r\n                  </th>\r\n                  <th className=\"th-table\" scope=\"col\">\r\n                    category\r\n                  </th>\r\n                  <th className=\"th-table\" scope=\"col\">\r\n                    expired\r\n                  </th>\r\n                  <th className=\"th-table\" scope=\"col\">\r\n                    ตัวเลือก\r\n                  </th>\r\n                </tr>\r\n              </thead>\r\n\r\n              {pendingpromotion.map((show) => {\r\n                return (\r\n                  <tbody>\r\n                    <tr>\r\n                      <td className=\"td-table\">\r\n                        <p className=\"h1-admin\">{show.id}</p>\r\n                      </td>\r\n                      <td className=\"td-table\">\r\n                        <p className=\"h1-admin\">{show.shop_name}</p>\r\n                      </td>\r\n                      <td className=\"td-table\">\r\n                        <p className=\"h1-admin\">{show.product_name}</p>\r\n                      </td>\r\n                      <td className=\"td-table\">\r\n                        <p className=\"h1-admin\">{show.product_code}</p>\r\n                      </td>\r\n                      <td className=\"td-table\">\r\n                        <p className=\"h1-admin\">{show.amount_point}</p>\r\n                      </td>\r\n                      <td className=\"td-table\">\r\n                        <p className=\"h1-admin\">{show.category}</p>\r\n                      </td>\r\n                      <td className=\"td-table\">\r\n                        <p className=\"h1-admin\">\r\n                          {moment(show.expired).format('DD/MM/YYYY')}\r\n                        </p>\r\n                      </td>\r\n                      <td className=\"td-table\">\r\n                        <button\r\n                          className=\"buttoncalculate-modal1\"\r\n                          onClick={() => {\r\n                            acceptpromotion(\r\n                              show.id,\r\n                              show.shop_name,\r\n                              show.product_name,\r\n                              show.product_code,\r\n                              show.amount_point,\r\n                              show.picture,\r\n                              show.category,\r\n                              show.expired,\r\n                            )\r\n                          }}\r\n                        >\r\n                          อนุมัติ\r\n                        </button>\r\n                        <button\r\n                          className=\"buttoncalculate-modal2\"\r\n                          onClick={() => {\r\n                            disacceptpromotion(show.id)\r\n                          }}\r\n                        >\r\n                          ไม่อนุมัติ\r\n                        </button>\r\n                      </td>\r\n                    </tr>\r\n                  </tbody>\r\n                )\r\n              })}\r\n            </table>\r\n          </div>\r\n\r\n          {/***************************************************************** */}\r\n\r\n          <div class=\"table-wrapper-scroll-y my-custom-scrollbar\">\r\n            <h1>ตรวจสอบ transaction</h1>\r\n            <input\r\n              placeholder=\"Tx-id หรือ เบอร์โทรศัพท์\"\r\n              onChange={(e) => {\r\n                setkeys(e.target.value)\r\n              }}\r\n            ></input>\r\n            <button onClick={checktransaction}>ค้นหา</button>\r\n            <table class=\"table table-bordered table-striped mb-0\">\r\n              <thead>\r\n                <tr>\r\n                  <th className=\"th-table\" scope=\"col\">\r\n                    รหัสอ้างอิง\r\n                  </th>\r\n                  <th className=\"th-table\" scope=\"col\">\r\n                    เวลา\r\n                  </th>\r\n                  <th className=\"th-table\" scope=\"col\">\r\n                    คนโอน\r\n                  </th>\r\n                  <th className=\"th-table\" scope=\"col\">\r\n                    คนรับ\r\n                  </th>\r\n                  <th className=\"th-table\" scope=\"col\">\r\n                    จำนวน\r\n                  </th>\r\n                </tr>\r\n              </thead>\r\n              {Txdata.map((val) => {\r\n                return (\r\n                  <tbody>\r\n                    <tr>\r\n                      <td className=\"td-table\">\r\n                        <p\r\n                          className=\"h1-admin\"\r\n                          onClick={() => {\r\n                            checkidtransaction(val.Tx_id)\r\n                          }}\r\n                        >\r\n                          {val.Tx_id}\r\n                        </p>\r\n                      </td>\r\n                      <td className=\"td-table\">\r\n                        <p className=\"h1-admin\">\r\n                          {moment(val.time).format('DD/MMMM/YYYY - LT')}\r\n                        </p>\r\n                      </td>\r\n                      <td className=\"td-table\">\r\n                        <p className=\"h1-admin\">{val.transferor}</p>\r\n                      </td>\r\n                      <td className=\"td-table\">\r\n                        <p className=\"h1-admin\">{val.recipient}</p>\r\n                      </td>\r\n                      <td className=\"td-table\">\r\n                        <p className=\"h1-admin\">{val.amount}</p>\r\n                      </td>\r\n                    </tr>\r\n                  </tbody>\r\n                )\r\n              })}\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </motion.div>\r\n    </div>\r\n  )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}