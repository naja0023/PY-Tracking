{"ast":null,"code":"import _slicedToArray from\"D:/login_and_register - Copy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{Link,Route}from\"react-router-dom\";import axios from\"axios\";import{useHistory}from\"react-router\";import{useEffect}from\"react\";import\"./Menumember.css\";import Memberprofile from\"./Memberprofile\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Menumember(){//----------------------------------------------------------\nvar history=useHistory();var _useState=useState(),_useState2=_slicedToArray(_useState,2),point=_useState2[0],setPoint=_useState2[1];var logout=function logout(){axios.get(\"/logout\");window.location.replace(\"/\");};var refresh=function refresh(){axios.get(\"/member\");window.location.reload();};var profilepage=function profilepage(){history.push(\"/memberprofile\");};var transferpage=function transferpage(){history.push(\"/transfer-point\");};var transactionpage=function transactionpage(){history.push(\"/transaction\");};var promotionpage=function promotionpage(){history.push(\"/promotion\");};useEffect(function(){axios.get(\"/login\").then(function(response){if(response.data.loggedIn==true){setPoint(response.data.user[0].point);}if(response.data.loggedIn==false||response.data.user[0].role!=\"member\"){return window.location.replace(\"/\");}});},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"menumember-page\",children:[/*#__PURE__*/_jsx(\"link\",{rel:\"stylesheet\",type:\"text/css\",href:\"//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css\"}),/*#__PURE__*/_jsx(\"link\",{href:\"//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css\",rel:\"stylesheet\"}),/*#__PURE__*/_jsxs(\"nav\",{class:\"navbar navbar-light bg-light justify-content-between\",children:[/*#__PURE__*/_jsxs(\"a\",{className:\"nav-tnc\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-braille\"}),\"T N C\"]}),/*#__PURE__*/_jsx(\"form\",{class:\"form-inline\",children:/*#__PURE__*/_jsx(\"button\",{onClick:logout,className:\"bn632-hover bn24\",children:\"\\u0E2D\\u0E2D\\u0E01\\u0E08\\u0E32\\u0E01\\u0E23\\u0E30\\u0E1A\\u0E1A\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"head-frame\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"data-frame\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-circle\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"point_acc\",children:\"\\u0E04\\u0E30\\u0E41\\u0E19\\u0E19\\u0E2A\\u0E30\\u0E2A\\u0E21\"}),/*#__PURE__*/_jsx(\"p\",{className:\"point\",children:point}),/*#__PURE__*/_jsx(\"i\",{onClick:refresh,className:\"fas fa-sync-alt\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"profile-button\",children:/*#__PURE__*/_jsx(\"a\",{onClick:profilepage,className:\"bn39\",children:/*#__PURE__*/_jsx(\"span\",{className:\"bn39span\",children:\"\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\\u0E02\\u0E2D\\u0E07\\u0E09\\u0E31\\u0E19\"})})})]})}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"container bootstrap snippets bootdey\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row margin-bottom-10\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 col-sm-6\",children:/*#__PURE__*/_jsxs(\"div\",{onClick:transferpage,className:\"servive-block servive-block-yellow\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-exchange-alt\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"heading-md\",children:\"\\u0E42\\u0E2D\\u0E19\\u0E04\\u0E30\\u0E41\\u0E19\\u0E19\"})]})}),/*#__PURE__*/_jsx(\"div\",{onClick:transactionpage,className:\"col-md-4 col-sm-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"servive-block servive-block-purple\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-redo-alt\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"heading-md\",children:\"\\u0E23\\u0E32\\u0E22\\u0E01\\u0E32\\u0E23\\u0E22\\u0E49\\u0E2D\\u0E19\\u0E2B\\u0E25\\u0E31\\u0E07\"})]})}),/*#__PURE__*/_jsx(\"div\",{onClick:promotionpage,className:\"col-md-4 col-sm-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"servive-block rounded servive-block-aqua\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-tag\"}),/*#__PURE__*/_jsx(\"h2\",{class:\"heading-md\",children:\" \\u0E42\\u0E1B\\u0E23\\u0E42\\u0E21\\u0E0A\\u0E31\\u0E48\\u0E19\"})]})})]})})]});}export default Menumember;","map":{"version":3,"sources":["D:/login_and_register - Copy/client/src/components/Menumember.js"],"names":["React","useState","Link","Route","axios","useHistory","useEffect","Memberprofile","Menumember","history","point","setPoint","logout","get","window","location","replace","refresh","reload","profilepage","push","transferpage","transactionpage","promotionpage","then","response","data","loggedIn","user","role"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { Link, Route } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { useHistory } from \"react-router\";\r\nimport { useEffect } from \"react\";\r\nimport \"./Menumember.css\";\r\n\r\nimport Memberprofile from \"./Memberprofile\";\r\n\r\nfunction Menumember() {\r\n  //----------------------------------------------------------\r\n  const history = useHistory();\r\n  const [point, setPoint] = useState();\r\n\r\n  const logout = () => {\r\n    axios.get(\"/logout\");\r\n    window.location.replace(\"/\");\r\n  };\r\n\r\n  const refresh = () => {\r\n    axios.get(\"/member\");\r\n    window.location.reload();\r\n  };\r\n\r\n  const profilepage = () => {\r\n    history.push(\"/memberprofile\");\r\n  };\r\n\r\n  const transferpage = () => {\r\n    history.push(\"/transfer-point\");\r\n  };\r\n\r\n  const transactionpage = () => {\r\n    history.push(\"/transaction\");\r\n  };\r\n  const promotionpage = () => {\r\n    history.push(\"/promotion\");\r\n  };\r\n\r\n  useEffect(() => {\r\n    axios.get(\"/login\").then((response) => {\r\n      if (response.data.loggedIn == true) {\r\n        setPoint(response.data.user[0].point);\r\n      }\r\n      if (\r\n        response.data.loggedIn == false ||\r\n        response.data.user[0].role != \"member\"\r\n      ) {\r\n        return window.location.replace(\"/\");\r\n      }\r\n    });\r\n  }, []);\r\n  return (\r\n    <div className=\"menumember-page\">\r\n      <link\r\n        rel=\"stylesheet\"\r\n        type=\"text/css\"\r\n        href=\"//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css\"\r\n      />\r\n      <link\r\n        href=\"//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css\"\r\n        rel=\"stylesheet\"\r\n      ></link>\r\n\r\n      <nav class=\"navbar navbar-light bg-light justify-content-between\">\r\n        <a className=\"nav-tnc\">\r\n          <i className=\"fas fa-braille\"></i>T N C\r\n        </a>\r\n        <form class=\"form-inline\">\r\n          <button onClick={logout} className=\"bn632-hover bn24\">\r\n            ออกจากระบบ\r\n          </button>\r\n        </form>\r\n      </nav>\r\n\r\n      <div className=\"head-frame\">\r\n        <div className=\"data-frame\">\r\n          <div className=\"bg-circle\">\r\n            <p className=\"point_acc\">คะแนนสะสม</p>\r\n            <p className=\"point\">{point}</p>\r\n            <i onClick={refresh} className=\"fas fa-sync-alt\"></i>\r\n          </div>\r\n          <div className=\"profile-button\">\r\n            <a onClick={profilepage} className=\"bn39\">\r\n              <span className=\"bn39span\">ข้อมูลของฉัน</span>\r\n            </a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <hr />\r\n\r\n      <div className=\"container bootstrap snippets bootdey\">\r\n        <div className=\"row margin-bottom-10\">\r\n          <div className=\"col-md-4 col-sm-6\">\r\n            <div\r\n              onClick={transferpage}\r\n              className=\"servive-block servive-block-yellow\"\r\n            >\r\n              <i className=\"fas fa-exchange-alt\"></i>\r\n              <h2 className=\"heading-md\">โอนคะแนน</h2>\r\n            </div>\r\n          </div>\r\n          <div onClick={transactionpage} className=\"col-md-4 col-sm-6\">\r\n            <div className=\"servive-block servive-block-purple\">\r\n              <i className=\"fas fa-redo-alt\"></i>\r\n              <h2 className=\"heading-md\">รายการย้อนหลัง</h2>\r\n            </div>\r\n          </div>\r\n          <div onClick={promotionpage} className=\"col-md-4 col-sm-6\">\r\n            <div className=\"servive-block rounded servive-block-aqua\">\r\n              <i className=\"fas fa-tag\"></i>\r\n              <h2 class=\"heading-md\"> โปรโมชั่น</h2>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default Menumember;\r\n"]},"metadata":{},"sourceType":"module"}