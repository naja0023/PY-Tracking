{"ast":null,"code":"import _slicedToArray from\"D:/login_and_register - Copy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{Link,useHistory}from\"react-router-dom\";import{useEffect}from\"react\";import Modal from\"react-modal\";import axios from\"axios\";import{AnimatePresence,motion}from\"framer-motion\";import\"./Memberprofile.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var customStyles={content:{top:\"50%\",left:\"50%\",right:\"auto\",bottom:\"auto\",marginRight:\"-50%\",transform:\"translate(-50%, -50%)\"}};function Memberprofile(){//----------------------------------------------------------\nvar subtitle;var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),modalIsOpenid=_React$useState2[0],setIsOpenid=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),modalIsOpenname=_React$useState4[0],setIsOpenname=_React$useState4[1];var _React$useState5=React.useState(false),_React$useState6=_slicedToArray(_React$useState5,2),modalIsOpenphone=_React$useState6[0],setIsOpenphone=_React$useState6[1];var _React$useState7=React.useState(false),_React$useState8=_slicedToArray(_React$useState7,2),modalIsOpenemail=_React$useState8[0],setIsOpenemail=_React$useState8[1];function openModalid(){setIsOpenid(true);}function openModalname(){setIsOpenname(true);}function openModalphone(){setIsOpenphone(true);}function openModalemail(){setIsOpenemail(true);}function afterOpenModal(){// references are now sync'd and can be accessed.\nsubtitle.style.color=\"#000\";}function closeModal(){setIsOpenid(false);setIsOpenname(false);setIsOpenphone(false);setIsOpenemail(false);}var history=useHistory();var _useState=useState(),_useState2=_slicedToArray(_useState,2),id=_useState2[0],setId=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),national_id=_useState4[0],setNationalId=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),name=_useState6[0],setName=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),phone=_useState8[0],setPhone=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),email=_useState10[0],setEmail=_useState10[1];var _useState11=useState(),_useState12=_slicedToArray(_useState11,2),point=_useState12[0],setPoint=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),role=_useState14[0],setRole=_useState14[1];var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),statusID=_useState16[0],setStatusID=_useState16[1];var _useState17=useState(\"\"),_useState18=_slicedToArray(_useState17,2),statusName=_useState18[0],setStatusName=_useState18[1];var _useState19=useState(\"\"),_useState20=_slicedToArray(_useState19,2),statusPhone=_useState20[0],setStatusPhone=_useState20[1];var _useState21=useState(\"\"),_useState22=_slicedToArray(_useState21,2),statusEmail=_useState22[0],setStatusEmail=_useState22[1];var _useState23=useState(\"\"),_useState24=_slicedToArray(_useState23,2),neweNational_id=_useState24[0],setnewNationalId=_useState24[1];var _useState25=useState(\"\"),_useState26=_slicedToArray(_useState25,2),newname=_useState26[0],setnewName=_useState26[1];var _useState27=useState(\"\"),_useState28=_slicedToArray(_useState27,2),newphone=_useState28[0],setnewPhone=_useState28[1];var _useState29=useState(\"\"),_useState30=_slicedToArray(_useState29,2),newemail=_useState30[0],setnewEmail=_useState30[1];axios.defaults.withCredentials=true;var refresh=function refresh(){axios.get(\"/member\");history.push(\"/memberprofile\");};var idUpdate=function idUpdate(){if(!neweNational_id){setStatusID(\"เลขบัตรประจำตัวประชาชนไม่ถูกต้อง\");}else{axios.put(\"/updatememberId\",{national_id:neweNational_id,id:id}).then(function(response){if(response.data.message){setStatusID(response.data.message);}else{alert(\"บันทึกสำเร็จ\");setNationalId(response.data.user[0].national_id);history.go();}});}};var nameUpdate=function nameUpdate(){if(!newname){setStatusName(\"ชื่อไม่ถูกต้อง\");}else{axios.put(\"/updatememberName\",{name:newname,id:id}).then(function(response){alert(\"บันทึกสำเร็จ\");return setName(response.data.user[0].name);});}};var phoneUpdate=function phoneUpdate(){if(!newphone){setStatusPhone(\"เบอร์โทรไม่ถูกต้อง\");}else{axios.put(\"/updatememberPhone\",{phone:newphone,id:id}).then(function(response){if(response.data.message){setStatusPhone(response.data.message);}else{alert(\"บันทึกสำเร็จ\");setPhone(response.data.user[0].phone);history.go();}});}};var emailUpdate=function emailUpdate(){if(!newemail){setStatusEmail(\"อีเมลไม่ถูกต้อง\");}else{axios.put(\"/updatememberEmail\",{email:newemail,id:id}).then(function(response){if(response.data.message){setStatusEmail(response.data.message);}else{alert(\"บันทึกสำเร็จ\");setEmail(response.data.user[0].email);history.go();}});}};/* ********************************** */var pageTransition={in:{opacity:1,x:0},out:{opacity:0,x:100}};/* ********************************** */useEffect(function(){axios.get(\"/login\").then(function(response){if(response.data.loggedIn===true){setId(response.data.user[0].id);setNationalId(response.data.user[0].national_id);setName(response.data.user[0].name);setPhone(response.data.user[0].phone);setEmail(response.data.user[0].email);setPoint(response.data.user[0].point);setRole(response.data.user[0].role);}if(response.data.loggedIn===false||response.data.user[0].role!==\"member\"){return history.push(\"/login\");}});},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"nav\",{class:\"navbar navbar-light bg-light justify-content-between\",children:[/*#__PURE__*/_jsx(Link,{className:\"buttonblack\",to:\"/\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-angle-left\",children:/*#__PURE__*/_jsx(\"a\",{className:\"bl\",children:\"\\u0E22\\u0E49\\u0E2D\\u0E19\\u0E01\\u0E25\\u0E31\\u0E1A\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"div-img-logo2\",children:/*#__PURE__*/_jsx(\"img\",{className:\"img-logoo\",src:\"/images/logo.png\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"memberprofile\",children:/*#__PURE__*/_jsxs(Modal,{isOpen:modalIsOpenid,onAfterOpen:afterOpenModal,onRequestClose:closeModal,style:customStyles,contentLabel:\"Example Modal\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"h2h2h2memberprofile\",ref:function ref(_subtitle){return subtitle=_subtitle;},children:\"\\u0E40\\u0E25\\u0E02\\u0E1A\\u0E31\\u0E15\\u0E23\\u0E1B\\u0E23\\u0E30\\u0E08\\u0E33\\u0E15\\u0E31\\u0E27\\u0E1B\\u0E23\\u0E30\\u0E0A\\u0E32\\u0E0A\\u0E19\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"in-buttonmemberprofile\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"inputmemberprofile\",type:\"text\",placeholder:\"id\",onChange:function onChange(e){setnewNationalId(e.target.value);}}),/*#__PURE__*/_jsx(\"p\",{style:{color:\"#af0527\"},children:statusID}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"buttoncalculate-modal1\",onClick:idUpdate,children:\"\\u0E41\\u0E01\\u0E49\\u0E44\\u0E02\"}),/*#__PURE__*/_jsx(\"button\",{className:\"buttoncalculate-modal2\",onClick:closeModal,children:\"\\u0E22\\u0E01\\u0E40\\u0E25\\u0E34\\u0E01\"})]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"memberprofile\",children:/*#__PURE__*/_jsxs(Modal,{isOpen:modalIsOpenname,onAfterOpen:afterOpenModal,onRequestClose:closeModal,style:customStyles,contentLabel:\"Example Modal\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"h2h2h2memberprofile\",ref:function ref(_subtitle){return subtitle=_subtitle;},children:\"\\u0E0A\\u0E37\\u0E48\\u0E2D-\\u0E2A\\u0E01\\u0E38\\u0E25\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"in-buttonmemberprofile\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"inputmemberprofile\",type:\"text\",placeholder:\"name\",onChange:function onChange(e){setnewName(e.target.value);}}),/*#__PURE__*/_jsx(\"p\",{style:{color:\"#af0527\"},children:statusName}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"buttoncalculate-modal1\",onClick:nameUpdate,children:\"\\u0E41\\u0E01\\u0E49\\u0E44\\u0E02\"}),/*#__PURE__*/_jsx(\"button\",{className:\"buttoncalculate-modal2\",onClick:closeModal,children:\"\\u0E22\\u0E01\\u0E40\\u0E25\\u0E34\\u0E01\"})]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"memberprofile\",children:/*#__PURE__*/_jsxs(Modal,{isOpen:modalIsOpenphone,onAfterOpen:afterOpenModal,onRequestClose:closeModal,style:customStyles,contentLabel:\"Example Modal\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"h2h2h2memberprofile\",ref:function ref(_subtitle){return subtitle=_subtitle;},children:\"\\u0E40\\u0E1A\\u0E2D\\u0E23\\u0E4C\\u0E42\\u0E17\\u0E23\\u0E28\\u0E31\\u0E1E\\u0E17\\u0E4C\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"in-buttonmemberprofile\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"inputmemberprofile\",type:\"text\",placeholder:\"phone\",onChange:function onChange(e){setnewPhone(e.target.value);}}),/*#__PURE__*/_jsx(\"p\",{style:{color:\"#af0527\"},children:statusPhone}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"buttoncalculate-modal1\",onClick:phoneUpdate,children:\"\\u0E41\\u0E01\\u0E49\\u0E44\\u0E02\"}),/*#__PURE__*/_jsx(\"button\",{className:\"buttoncalculate-modal2\",onClick:closeModal,children:\"\\u0E22\\u0E01\\u0E40\\u0E25\\u0E34\\u0E01\"})]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"memberprofile\",children:/*#__PURE__*/_jsxs(Modal,{isOpen:modalIsOpenemail,onAfterOpen:afterOpenModal,onRequestClose:closeModal,style:customStyles,contentLabel:\"Example Modal\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"h2h2h2memberprofile\",ref:function ref(_subtitle){return subtitle=_subtitle;},children:\"\\u0E2D\\u0E35\\u0E40\\u0E21\\u0E25\\u0E4C\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"in-buttonmemberprofile\",onSubmit:emailUpdate,children:[/*#__PURE__*/_jsx(\"input\",{className:\"inputmemberprofile\",type:\"email\",placeholder:\"email\",onChange:function onChange(e){setnewEmail(e.target.value);}}),/*#__PURE__*/_jsx(\"p\",{style:{color:\"#af0527\"},children:statusEmail}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"buttoncalculate-modal1\",onClick:emailUpdate,children:\"\\u0E41\\u0E01\\u0E49\\u0E44\\u0E02\"}),/*#__PURE__*/_jsx(\"button\",{className:\"buttoncalculate-modal2\",onClick:closeModal,children:\"\\u0E22\\u0E01\\u0E40\\u0E25\\u0E34\\u0E01\"})]})]})]})}),/*#__PURE__*/_jsx(motion.div,{initial:\"out\",animate:\"in\",exit:\"out\",variants:pageTransition,children:/*#__PURE__*/_jsx(\"div\",{className:\"container bootstrap snippets bootdey\",children:/*#__PURE__*/_jsx(\"div\",{className:\"panel-body inf-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-4\",children:[/*#__PURE__*/_jsx(\"img\",{alt:\"\",title:\"\",className:\"img-circle img-thumbnail isTooltip\",src:\"images/user.png\",\"data-original-title\":\"Usuario\"}),/*#__PURE__*/_jsxs(\"ul\",{title:\"Ratings\",className:\"list-inline ratings text-center\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:/*#__PURE__*/_jsx(\"span\",{className:\"glyphicon glyphicon-star\"})})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:/*#__PURE__*/_jsx(\"span\",{className:\"glyphicon glyphicon-star\"})})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:/*#__PURE__*/_jsx(\"span\",{className:\"glyphicon glyphicon-star\"})})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:/*#__PURE__*/_jsx(\"span\",{className:\"glyphicon glyphicon-star\"})})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:/*#__PURE__*/_jsx(\"span\",{className:\"glyphicon glyphicon-star\"})})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\\u0E2A\\u0E48\\u0E27\\u0E19\\u0E15\\u0E31\\u0E27\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsx(\"table\",{className:\"table table-user-information\",children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"strong\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"glyphicon glyphicon-asterisk text-primary\"}),\"\\u0E40\\u0E25\\u0E02\\u0E1A\\u0E31\\u0E15\\u0E23\\u0E1B\\u0E23\\u0E30\\u0E08\\u0E33\\u0E15\\u0E31\\u0E27\\u0E1B\\u0E23\\u0E30\\u0E0A\\u0E32\\u0E0A\\u0E19\"]})}),/*#__PURE__*/_jsxs(\"td\",{className:\"text-primary\",children:[national_id,\" \",/*#__PURE__*/_jsx(\"i\",{onClick:openModalid,className:\"fas fa-pen\"})]})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"strong\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"glyphicon glyphicon-user  text-primary\"}),\"\\u0E0A\\u0E37\\u0E48\\u0E2D-\\u0E2A\\u0E01\\u0E38\\u0E25\"]})}),/*#__PURE__*/_jsxs(\"td\",{className:\"text-primary\",children:[name,\" \",/*#__PURE__*/_jsx(\"i\",{onClick:openModalname,className:\"fas fa-pen\"})]})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"strong\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"glyphicon glyphicon-bookmark text-primary\"}),\"\\u0E40\\u0E1A\\u0E2D\\u0E23\\u0E4C\\u0E42\\u0E17\\u0E23\\u0E28\\u0E31\\u0E1E\\u0E17\\u0E4C\"]})}),/*#__PURE__*/_jsxs(\"td\",{className:\"text-primary\",children:[phone,\" \",/*#__PURE__*/_jsx(\"i\",{onClick:openModalphone,className:\"fas fa-pen\"})]})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"strong\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"glyphicon glyphicon-envelope text-primary\"}),\"\\u0E2D\\u0E35\\u0E40\\u0E21\\u0E25\\u0E4C\"]})}),/*#__PURE__*/_jsxs(\"td\",{className:\"text-primary\",children:[email,\" \",/*#__PURE__*/_jsx(\"i\",{onClick:openModalemail,className:\"fas fa-pen\"})]})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"strong\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"glyphicon glyphicon-envelope text-primary\"}),\"\\u0E04\\u0E30\\u0E41\\u0E19\\u0E19\"]})}),/*#__PURE__*/_jsx(\"td\",{className:\"text-primary\",children:point})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"strong\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"glyphicon glyphicon-eye-open text-primary\"}),\"\\u0E2A\\u0E16\\u0E32\\u0E19\\u0E30\"]})}),/*#__PURE__*/_jsx(\"td\",{className:\"text-primary\",children:role})]})]})})})]})]})})})})]});}export default Memberprofile;","map":{"version":3,"sources":["D:/login_and_register - Copy/client/src/components/Memberprofile.js"],"names":["React","useState","Link","useHistory","useEffect","Modal","axios","AnimatePresence","motion","customStyles","content","top","left","right","bottom","marginRight","transform","Memberprofile","subtitle","modalIsOpenid","setIsOpenid","modalIsOpenname","setIsOpenname","modalIsOpenphone","setIsOpenphone","modalIsOpenemail","setIsOpenemail","openModalid","openModalname","openModalphone","openModalemail","afterOpenModal","style","color","closeModal","history","id","setId","national_id","setNationalId","name","setName","phone","setPhone","email","setEmail","point","setPoint","role","setRole","statusID","setStatusID","statusName","setStatusName","statusPhone","setStatusPhone","statusEmail","setStatusEmail","neweNational_id","setnewNationalId","newname","setnewName","newphone","setnewPhone","newemail","setnewEmail","defaults","withCredentials","refresh","get","push","idUpdate","put","then","response","data","message","alert","user","go","nameUpdate","phoneUpdate","emailUpdate","pageTransition","in","opacity","x","out","loggedIn","_subtitle","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { useEffect } from \"react\";\r\nimport Modal from \"react-modal\";\r\nimport axios from \"axios\";\r\nimport { AnimatePresence, motion } from \"framer-motion\";\r\n\r\nimport \"./Memberprofile.css\";\r\n\r\nconst customStyles = {\r\n  content: {\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    right: \"auto\",\r\n    bottom: \"auto\",\r\n    marginRight: \"-50%\",\r\n    transform: \"translate(-50%, -50%)\",\r\n  },\r\n};\r\n\r\nfunction Memberprofile() {\r\n  //----------------------------------------------------------\r\n  let subtitle;\r\n  const [modalIsOpenid, setIsOpenid] = React.useState(false);\r\n  const [modalIsOpenname, setIsOpenname] = React.useState(false);\r\n  const [modalIsOpenphone, setIsOpenphone] = React.useState(false);\r\n  const [modalIsOpenemail, setIsOpenemail] = React.useState(false);\r\n\r\n  function openModalid() {\r\n    setIsOpenid(true);\r\n  }\r\n\r\n  function openModalname() {\r\n    setIsOpenname(true);\r\n  }\r\n\r\n  function openModalphone() {\r\n    setIsOpenphone(true);\r\n  }\r\n\r\n  function openModalemail() {\r\n    setIsOpenemail(true);\r\n  }\r\n\r\n  function afterOpenModal() {\r\n    // references are now sync'd and can be accessed.\r\n    subtitle.style.color = \"#000\";\r\n  }\r\n\r\n  function closeModal() {\r\n    setIsOpenid(false);\r\n    setIsOpenname(false);\r\n    setIsOpenphone(false);\r\n    setIsOpenemail(false);\r\n  }\r\n\r\n  const history = useHistory();\r\n  const [id, setId] = useState();\r\n  const [national_id, setNationalId] = useState(\"\");\r\n  const [name, setName] = useState(\"\");\r\n  const [phone, setPhone] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [point, setPoint] = useState();\r\n  const [role, setRole] = useState(\"\");\r\n  const [statusID, setStatusID] = useState(\"\");\r\n  const [statusName, setStatusName] = useState(\"\");\r\n  const [statusPhone, setStatusPhone] = useState(\"\");\r\n  const [statusEmail, setStatusEmail] = useState(\"\");\r\n\r\n  const [neweNational_id, setnewNationalId] = useState(\"\");\r\n  const [newname, setnewName] = useState(\"\");\r\n  const [newphone, setnewPhone] = useState(\"\");\r\n  const [newemail, setnewEmail] = useState(\"\");\r\n\r\n  axios.defaults.withCredentials = true;\r\n\r\n  const refresh = () => {\r\n    axios.get(\"/member\");\r\n    history.push(\"/memberprofile\");\r\n  };\r\n\r\n  const idUpdate = () => {\r\n    if (!neweNational_id) {\r\n      setStatusID(\"เลขบัตรประจำตัวประชาชนไม่ถูกต้อง\");\r\n    } else {\r\n      axios\r\n        .put(\"/updatememberId\", { national_id: neweNational_id, id: id })\r\n        .then((response) => {\r\n          if (response.data.message) {\r\n            setStatusID(response.data.message);\r\n          } else {\r\n            alert(\"บันทึกสำเร็จ\");\r\n            setNationalId(response.data.user[0].national_id);\r\n            history.go();\r\n          }\r\n        });\r\n    }\r\n  };\r\n\r\n  const nameUpdate = () => {\r\n    if (!newname) {\r\n      setStatusName(\"ชื่อไม่ถูกต้อง\");\r\n    } else {\r\n      axios\r\n        .put(\"/updatememberName\", { name: newname, id: id })\r\n        .then((response) => {\r\n          alert(\"บันทึกสำเร็จ\");\r\n          return setName(response.data.user[0].name);\r\n        });\r\n    }\r\n  };\r\n  const phoneUpdate = () => {\r\n    if (!newphone) {\r\n      setStatusPhone(\"เบอร์โทรไม่ถูกต้อง\");\r\n    } else {\r\n      axios\r\n        .put(\"/updatememberPhone\", { phone: newphone, id: id })\r\n        .then((response) => {\r\n          if (response.data.message) {\r\n            setStatusPhone(response.data.message);\r\n          } else {\r\n            alert(\"บันทึกสำเร็จ\");\r\n            setPhone(response.data.user[0].phone);\r\n            history.go();\r\n          }\r\n        });\r\n    }\r\n  };\r\n\r\n  const emailUpdate = () => {\r\n    if (!newemail) {\r\n      setStatusEmail(\"อีเมลไม่ถูกต้อง\");\r\n    } else {\r\n      axios\r\n        .put(\"/updatememberEmail\", { email: newemail, id: id })\r\n        .then((response) => {\r\n          if (response.data.message) {\r\n            setStatusEmail(response.data.message);\r\n          } else {\r\n            alert(\"บันทึกสำเร็จ\");\r\n            setEmail(response.data.user[0].email);\r\n            history.go();\r\n          }\r\n        });\r\n    }\r\n  };\r\n\r\n  /* ********************************** */\r\n\r\n  const pageTransition = {\r\n    in: {\r\n      opacity: 1,\r\n      x: 0,\r\n    },\r\n    out: {\r\n      opacity: 0,\r\n      x: 100,\r\n    },\r\n  };\r\n\r\n  /* ********************************** */\r\n\r\n  useEffect(() => {\r\n    axios.get(\"/login\").then((response) => {\r\n      if (response.data.loggedIn === true) {\r\n        setId(response.data.user[0].id);\r\n        setNationalId(response.data.user[0].national_id);\r\n        setName(response.data.user[0].name);\r\n        setPhone(response.data.user[0].phone);\r\n        setEmail(response.data.user[0].email);\r\n        setPoint(response.data.user[0].point);\r\n        setRole(response.data.user[0].role);\r\n      }\r\n      if (\r\n        response.data.loggedIn === false ||\r\n        response.data.user[0].role !== \"member\"\r\n      ) {\r\n        return history.push(\"/login\");\r\n      }\r\n    });\r\n  }, []);\r\n  return (\r\n    <div>\r\n      <nav class=\"navbar navbar-light bg-light justify-content-between\">\r\n        <Link className=\"buttonblack\" to=\"/\">\r\n          <i className=\"fas fa-angle-left\">\r\n            <a className=\"bl\">ย้อนกลับ</a>\r\n          </i>\r\n        </Link>\r\n        <div className=\"div-img-logo2\">\r\n          <img className=\"img-logoo\" src=\"/images/logo.png\" />\r\n        </div>\r\n      </nav>\r\n\r\n      <div className=\"memberprofile\">\r\n        <Modal\r\n          isOpen={modalIsOpenid}\r\n          onAfterOpen={afterOpenModal}\r\n          onRequestClose={closeModal}\r\n          style={customStyles}\r\n          contentLabel=\"Example Modal\"\r\n        >\r\n          <h2\r\n            className=\"h2h2h2memberprofile\"\r\n            ref={(_subtitle) => (subtitle = _subtitle)}\r\n          >\r\n            เลขบัตรประจำตัวประชาชน\r\n          </h2>\r\n          <div className=\"in-buttonmemberprofile\">\r\n            <input\r\n              className=\"inputmemberprofile\"\r\n              type=\"text\"\r\n              placeholder=\"id\"\r\n              onChange={(e) => {\r\n                setnewNationalId(e.target.value);\r\n              }}\r\n            />\r\n            <p style={{ color: \"#af0527\" }}>{statusID}</p>\r\n            <div>\r\n              <button className=\"buttoncalculate-modal1\" onClick={idUpdate}>\r\n                แก้ไข\r\n              </button>\r\n              <button className=\"buttoncalculate-modal2\" onClick={closeModal}>\r\n                ยกเลิก\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </Modal>\r\n      </div>\r\n\r\n      <div className=\"memberprofile\">\r\n        <Modal\r\n          isOpen={modalIsOpenname}\r\n          onAfterOpen={afterOpenModal}\r\n          onRequestClose={closeModal}\r\n          style={customStyles}\r\n          contentLabel=\"Example Modal\"\r\n        >\r\n          <h2\r\n            className=\"h2h2h2memberprofile\"\r\n            ref={(_subtitle) => (subtitle = _subtitle)}\r\n          >\r\n            ชื่อ-สกุล\r\n          </h2>\r\n          <div className=\"in-buttonmemberprofile\">\r\n            <input\r\n              className=\"inputmemberprofile\"\r\n              type=\"text\"\r\n              placeholder=\"name\"\r\n              onChange={(e) => {\r\n                setnewName(e.target.value);\r\n              }}\r\n            />\r\n            <p style={{ color: \"#af0527\" }}>{statusName}</p>\r\n\r\n            <div>\r\n              <button className=\"buttoncalculate-modal1\" onClick={nameUpdate}>\r\n                แก้ไข\r\n              </button>\r\n              <button className=\"buttoncalculate-modal2\" onClick={closeModal}>\r\n                ยกเลิก\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </Modal>\r\n      </div>\r\n\r\n      <div className=\"memberprofile\">\r\n        <Modal\r\n          isOpen={modalIsOpenphone}\r\n          onAfterOpen={afterOpenModal}\r\n          onRequestClose={closeModal}\r\n          style={customStyles}\r\n          contentLabel=\"Example Modal\"\r\n        >\r\n          <h2\r\n            className=\"h2h2h2memberprofile\"\r\n            ref={(_subtitle) => (subtitle = _subtitle)}\r\n          >\r\n            เบอร์โทรศัพท์\r\n          </h2>\r\n          <div className=\"in-buttonmemberprofile\">\r\n            <input\r\n              className=\"inputmemberprofile\"\r\n              type=\"text\"\r\n              placeholder=\"phone\"\r\n              onChange={(e) => {\r\n                setnewPhone(e.target.value);\r\n              }}\r\n            />\r\n            <p style={{ color: \"#af0527\" }}>{statusPhone}</p>\r\n\r\n            <div>\r\n              <button className=\"buttoncalculate-modal1\" onClick={phoneUpdate}>\r\n                แก้ไข\r\n              </button>\r\n              <button className=\"buttoncalculate-modal2\" onClick={closeModal}>\r\n                ยกเลิก\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </Modal>\r\n      </div>\r\n\r\n      <div className=\"memberprofile\">\r\n        <Modal\r\n          isOpen={modalIsOpenemail}\r\n          onAfterOpen={afterOpenModal}\r\n          onRequestClose={closeModal}\r\n          style={customStyles}\r\n          contentLabel=\"Example Modal\"\r\n        >\r\n          <h2\r\n            className=\"h2h2h2memberprofile\"\r\n            ref={(_subtitle) => (subtitle = _subtitle)}\r\n          >\r\n            อีเมล์\r\n          </h2>\r\n          <form className=\"in-buttonmemberprofile\" onSubmit={emailUpdate}>\r\n            <input\r\n              className=\"inputmemberprofile\"\r\n              type=\"email\"\r\n              placeholder=\"email\"\r\n              onChange={(e) => {\r\n                setnewEmail(e.target.value);\r\n              }}\r\n            />\r\n            <p style={{ color: \"#af0527\" }}>{statusEmail}</p>\r\n\r\n            <div>\r\n              <button className=\"buttoncalculate-modal1\" onClick={emailUpdate}>\r\n                แก้ไข\r\n              </button>\r\n              <button className=\"buttoncalculate-modal2\" onClick={closeModal}>\r\n                ยกเลิก\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </Modal>\r\n      </div>\r\n\r\n      <motion.div\r\n        initial=\"out\"\r\n        animate=\"in\"\r\n        exit=\"out\"\r\n        variants={pageTransition}\r\n      >\r\n        <div className=\"container bootstrap snippets bootdey\">\r\n          <div className=\"panel-body inf-content\">\r\n            <div className=\"row\">\r\n              <div className=\"col-md-4\">\r\n                <img\r\n                  alt=\"\"\r\n                  title=\"\"\r\n                  className=\"img-circle img-thumbnail isTooltip\"\r\n                  src=\"images/user.png\"\r\n                  data-original-title=\"Usuario\"\r\n                />\r\n                <ul title=\"Ratings\" className=\"list-inline ratings text-center\">\r\n                  <li>\r\n                    <a href=\"#\">\r\n                      <span className=\"glyphicon glyphicon-star\"></span>\r\n                    </a>\r\n                  </li>\r\n                  <li>\r\n                    <a href=\"#\">\r\n                      <span className=\"glyphicon glyphicon-star\"></span>\r\n                    </a>\r\n                  </li>\r\n                  <li>\r\n                    <a href=\"#\">\r\n                      <span className=\"glyphicon glyphicon-star\"></span>\r\n                    </a>\r\n                  </li>\r\n                  <li>\r\n                    <a href=\"#\">\r\n                      <span className=\"glyphicon glyphicon-star\"></span>\r\n                    </a>\r\n                  </li>\r\n                  <li>\r\n                    <a href=\"#\">\r\n                      <span className=\"glyphicon glyphicon-star\"></span>\r\n                    </a>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n              <div className=\"col-md-6\">\r\n                <strong>ข้อมูลส่วนตัว</strong>\r\n                <br />\r\n                <div className=\"table-responsive\">\r\n                  <table className=\"table table-user-information\">\r\n                    <tbody>\r\n                      <tr>\r\n                        <td>\r\n                          <strong>\r\n                            <span className=\"glyphicon glyphicon-asterisk text-primary\"></span>\r\n                            เลขบัตรประจำตัวประชาชน\r\n                          </strong>\r\n                        </td>\r\n                        <td className=\"text-primary\">\r\n                          {national_id}{\" \"}\r\n                          <i onClick={openModalid} className=\"fas fa-pen\"></i>\r\n                        </td>\r\n                      </tr>\r\n                      <tr>\r\n                        <td>\r\n                          <strong>\r\n                            <span className=\"glyphicon glyphicon-user  text-primary\"></span>\r\n                            ชื่อ-สกุล\r\n                          </strong>\r\n                        </td>\r\n                        <td className=\"text-primary\">\r\n                          {name}{\" \"}\r\n                          <i onClick={openModalname} className=\"fas fa-pen\"></i>\r\n                        </td>\r\n                      </tr>\r\n\r\n                      <tr>\r\n                        <td>\r\n                          <strong>\r\n                            <span className=\"glyphicon glyphicon-bookmark text-primary\"></span>\r\n                            เบอร์โทรศัพท์\r\n                          </strong>\r\n                        </td>\r\n                        <td className=\"text-primary\">\r\n                          {phone}{\" \"}\r\n                          <i\r\n                            onClick={openModalphone}\r\n                            className=\"fas fa-pen\"\r\n                          ></i>\r\n                        </td>\r\n                      </tr>\r\n\r\n                      <tr>\r\n                        <td>\r\n                          <strong>\r\n                            <span className=\"glyphicon glyphicon-envelope text-primary\"></span>\r\n                            อีเมล์\r\n                          </strong>\r\n                        </td>\r\n                        <td className=\"text-primary\">\r\n                          {email}{\" \"}\r\n                          <i\r\n                            onClick={openModalemail}\r\n                            className=\"fas fa-pen\"\r\n                          ></i>\r\n                        </td>\r\n                      </tr>\r\n\r\n                      <tr>\r\n                        <td>\r\n                          <strong>\r\n                            <span className=\"glyphicon glyphicon-envelope text-primary\"></span>\r\n                            คะแนน\r\n                          </strong>\r\n                        </td>\r\n                        <td className=\"text-primary\">{point}</td>\r\n                      </tr>\r\n\r\n                      <tr>\r\n                        <td>\r\n                          <strong>\r\n                            <span className=\"glyphicon glyphicon-eye-open text-primary\"></span>\r\n                            สถานะ\r\n                          </strong>\r\n                        </td>\r\n                        <td className=\"text-primary\">{role}</td>\r\n                      </tr>\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </motion.div>\r\n    </div>\r\n  );\r\n}\r\nexport default Memberprofile;\r\n"]},"metadata":{},"sourceType":"module"}