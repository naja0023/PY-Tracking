{"ast":null,"code":"var _jsxFileName = \"D:\\\\login_and_register - Copy\\\\client\\\\src\\\\components\\\\Calculatepointshop.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { useEffect } from 'react';\nimport axios from 'axios';\nimport Modal from 'react-modal';\nimport './Calculatepointshop.css';\nimport { motion } from 'framer-motion';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst customStyles = {\n  content: {\n    width: '100%',\n    height: '50%',\n    top: '50%',\n    left: '50%',\n    right: 'auto',\n    bottom: 'auto',\n    marginRight: '-50%',\n    transform: 'translate(-50%, -50%)'\n  }\n};\n\nfunction Calculatepointshop() {\n  _s();\n\n  const [modalIsOpen, setIsOpen] = React.useState(false);\n\n  function openModal() {\n    setIsOpen(true);\n  }\n\n  function afterOpenModal() {// references are now sync'd and can be accessed.\n  }\n\n  function closeModal() {\n    setIsOpen(false);\n  } //-----------------------------------------------------\n\n\n  const history = useHistory(); //-----------------------------------------------------\n\n  const [product_code, setproduct_code] = useState('');\n  const [productlist, setProductlist] = useState([]);\n  const [promotionlist, setPromotionlist] = useState([]);\n  const [total_price, setTotal_Price] = useState(0);\n  const [id, setId] = useState();\n  const [shoppoint, setShopPoint] = useState();\n  const [phone, setPhone] = useState('');\n  const [destPhone, setdestPhone] = useState('');\n  const [total_point, setTotal_Point] = useState(0);\n  const [product_amount, setproduct_amount] = useState(1);\n  const [namesearch, setnamesearch] = useState('');\n  const [allproduct, setALLPRODUCT] = useState([]);\n  const [fillterALLPRODUCT, setFilteredALLPRODUCT] = useState([]);\n\n  const refresh = () => {\n    axios.get('/shop');\n    window.location.reload();\n  };\n\n  const searchproductname = event => {\n    let value = event.toLowerCase();\n    let result = [];\n    result = shoplist.filter(data => {\n      return data.name.search(value) != -1;\n    });\n    setFilteredShop(result);\n  };\n\n  const entername = () => {\n    if (!namesearch) {} else {\n      axios.post('/enternamesearch', {\n        namesearch: namesearch\n      }).then(response => {});\n    }\n  };\n\n  const entercode = number => {\n    var a;\n\n    if (!product_code) {} else {\n      axios.post('/enterproductcode', {\n        product_code: product_code\n      }).then(response => {\n        if (response.data.productlist) {\n          for (a = 0; a < `${productlist.length}`; a++) {}\n\n          setProductlist([...productlist, {\n            id: a,\n            product_name: response.data.productlist[0].product_name,\n            product_code: response.data.productlist[0].product_code,\n            price: response.data.productlist[0].price,\n            number: number\n          }]);\n          setTotal_Price(total_price + response.data.productlist[0].price * number);\n        } else if (response.data.result2) {\n          for (a = 0; a < `${productlist.length}`; a++) {}\n\n          setProductlist([...productlist, {\n            id: a,\n            product_name: response.data.result1[0].product_name,\n            product_code: response.data.result1[0].product_code,\n            price: response.data.result1[0].price,\n            number: number\n          }]);\n          setPromotionlist([...promotionlist, {\n            id: a,\n            product_name: response.data.result1[0].product_name,\n            product_code: response.data.result1[0].product_code,\n            price: response.data.result1[0].price,\n            amount_point: response.data.result2.amount_point,\n            number: number\n          }]);\n          setTotal_Price(total_price + response.data.result1[0].price * number);\n        }\n      });\n      setproduct_code('');\n    }\n  };\n\n  const transferTocustomer = () => {\n    if (!destPhone) {\n      axios.post('/transaction/buying', {\n        list: productlist,\n        destPhone: destPhone\n      });\n      alert('success');\n      history.go();\n    } else {\n      if (shoppoint < total_point) {\n        alert('คะแนนร้านค้าไม่เพียงพอ กรุณาเติมคะแนน');\n      } else {\n        axios.post('/calculateprice', {\n          total_point: total_point,\n          destPhone: destPhone\n        }).then(response => {\n          if (response.data.calculate) {\n            axios.post('/transaction/buying', {\n              list: productlist,\n              destPhone: destPhone\n            });\n            alert(response.data.calculate);\n            axios.get('/shop');\n            history.go();\n          } else {\n            alert(response.data.message);\n          }\n        });\n      }\n    }\n  };\n\n  const calculatepoint = () => {\n    var promotionpoint = 0;\n\n    for (let i = 0; i < `${promotionlist.length}`; i++) {\n      promotionpoint += (promotionlist[i].amount_point - Math.floor(promotionlist[i].price / 50)) * promotionlist[i].number;\n    }\n\n    setTotal_Point(Math.floor(total_price / 50) + promotionpoint);\n\n    if (productlist.length === 0) {} else {\n      axios.get('/checksystemcoin').then(response => {\n        if (response.data.message) {\n          alert(response.data.message);\n          history.push('/');\n        }\n      });\n      openModal();\n    }\n  };\n\n  const deleteproduct = e => {\n    const id = e.target.getAttribute('name');\n    setProductlist(productlist.filter(productlist => JSON.stringify(productlist.id) !== id));\n    setPromotionlist(promotionlist.filter(promotionlist => JSON.stringify(promotionlist.id) !== id));\n  };\n\n  const updateprice = price => {\n    setTotal_Price(total_price - price);\n  };\n\n  const gotoTopupPage = () => {\n    history.push('/top-up-point-shop');\n  };\n  /* ********************************** */\n\n\n  const pageTransition = {\n    in: {\n      opacity: 1,\n      x: 0\n    },\n    out: {\n      opacity: 0,\n      x: 100\n    }\n  };\n  /* ********************************** */\n\n  useEffect(() => {\n    axios.get('/checksystemcoin').then(response => {\n      if (response.data.message) {\n        alert(response.data.message);\n        history.push('/');\n      }\n    });\n    axios.get('/login').then(response => {\n      if (response.data.loggedIn === true) {\n        axios.get('/shop').then(response => {\n          setId(response.data.user[0].id);\n          setShopPoint(response.data.user[0].shoppoint);\n          setPhone(response.data.user[0].phone);\n        });\n        axios.get('/getproduct').then(response => {\n          if (response.data) {\n            setALLPRODUCT(response.data);\n            setFilteredALLPRODUCT(response.data);\n          }\n        });\n      }\n\n      if (response.data.loggedIn === false || response.data.user[0].role !== 'shop') {\n        return history.push('/login');\n      }\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"calculatepointpage\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"calculate-modal\",\n      children: /*#__PURE__*/_jsxDEV(Modal, {\n        isOpen: modalIsOpen,\n        onAfterOpen: afterOpenModal,\n        onRequestClose: closeModal,\n        style: customStyles,\n        contentLabel: \"Example Modal\",\n        children: /*#__PURE__*/_jsxDEV(motion.div, {\n          initial: {\n            opacity: 0,\n            y: 100\n          },\n          animate: {\n            opacity: 1,\n            y: 0\n          },\n          exit: {\n            opacity: 0,\n            y: 100\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"divcalculate-modal\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"pcalculate-modal\",\n              children: [\"\\u0E44\\u0E14\\u0E49\\u0E23\\u0E31\\u0E1A : \", total_point, \" \\u0E04\\u0E30\\u0E41\\u0E19\\u0E19\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"buttoncalculate-modal1\",\n                onClick: transferTocustomer,\n                children: \"\\u0E22\\u0E37\\u0E19\\u0E22\\u0E31\\u0E19\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"buttoncalculate-modal2\",\n                onClick: closeModal,\n                children: \"\\u0E22\\u0E01\\u0E40\\u0E25\\u0E34\\u0E01\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 280,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"link\", {\n      rel: \"stylesheet\",\n      type: \"text/css\",\n      href: \"//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"link\", {\n      href: \"//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css\",\n      rel: \"stylesheet\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n      className: \"navbar navbar-light bg-light justify-content-between\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        className: \"buttonblack\",\n        to: \"/\",\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-angle-left\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            className: \"bl\",\n            children: \"\\u0E22\\u0E49\\u0E2D\\u0E19\\u0E01\\u0E25\\u0E31\\u0E1A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"div-img-logo2\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"img-logoo\",\n          src: \"/images/logo.png\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n      initial: \"out\",\n      animate: \"in\",\n      exit: \"out\",\n      variants: pageTransition,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"calculate-point-shop\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: gotoTopupPage,\n          className: \"buttontop-up\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-plus\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 13\n          }, this), \"\\u0E40\\u0E15\\u0E34\\u0E21\\u0E04\\u0E30\\u0E41\\u0E19\\u0E19\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"calculate-con\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"h2promotion\",\n            children: \"\\u0E04\\u0E33\\u0E19\\u0E27\\u0E13\\u0E04\\u0E30\\u0E41\\u0E19\\u0E19\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"h1promotion\",\n            children: [\"\\u0E04\\u0E30\\u0E41\\u0E19\\u0E19\\u0E02\\u0E2D\\u0E07\\u0E23\\u0E49\\u0E32\\u0E19\\u0E04\\u0E49\\u0E32 : \", shoppoint, ' ', /*#__PURE__*/_jsxDEV(\"i\", {\n              onClick: refresh,\n              className: \"fas fa-sync-alt\",\n              style: {\n                color: 'black'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 325,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"from-calculatepointshop\",\n          onSubmit: e => {\n            e.preventDefault();\n            entercode(product_amount);\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"label-input1-calculatepointshopp\",\n            children: \"\\u0E40\\u0E1A\\u0E2D\\u0E23\\u0E4C\\u0E42\\u0E17\\u0E23\\u0E28\\u0E31\\u0E1E\\u0E17\\u0E4C\\u0E25\\u0E39\\u0E01\\u0E04\\u0E49\\u0E32\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"input-input1-calculatepointshopp\",\n            type: \"tel\",\n            placeholder: \"\\u0E40\\u0E1A\\u0E2D\\u0E23\\u0E4C\\u0E42\\u0E17\\u0E23\\u0E25\\u0E39\\u0E01\\u0E04\\u0E49\\u0E32\",\n            onChange: e => {\n              setdestPhone(e.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"label-input2-calculatepointshopp\",\n            children: \"\\u0E23\\u0E2B\\u0E31\\u0E2A\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"input-input2-calculatepointshopp\",\n            type: \"text\",\n            placeholder: \"\\u0E23\\u0E2B\\u0E31\\u0E2A\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\",\n            value: product_code,\n            onChange: e => {\n              setproduct_code(e.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"\\u0E1B\\u0E49\\u0E2D\\u0E19\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\",\n            onChange: e => {\n              searchproductname(e.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"label-input3-calculatepointshopp\",\n            children: \"\\u0E08\\u0E33\\u0E19\\u0E27\\u0E19\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"input-input3-calculatepointshopp\",\n            type: \"number\",\n            min: \"1\",\n            placeholder: \"\\u0E08\\u0E33\\u0E19\\u0E27\\u0E19\",\n            value: product_amount,\n            onChange: e => {\n              setproduct_amount(e.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"reset\",\n            className: \"btn btn-primary reset-product-amount\",\n            onClick: () => setproduct_amount(1),\n            children: \"\\u0E23\\u0E35\\u0E40\\u0E0B\\u0E47\\u0E15\\u0E08\\u0E33\\u0E19\\u0E27\\u0E19\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 381,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"button-input-calculatepointshop\",\n            type: \"submit\",\n            children: \"\\u0E15\\u0E01\\u0E25\\u0E07\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"table-wrapper-scroll-y my-custom-scrollbar\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"table-responsive\",\n          children: /*#__PURE__*/_jsxDEV(\"center\", {\n            children: /*#__PURE__*/_jsxDEV(\"table\", {\n              className: \"table table-bordered\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"th-table\",\n                    scope: \"col\",\n                    children: \"\\u0E23\\u0E32\\u0E22\\u0E01\\u0E32\\u0E23\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 400,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"th-table\",\n                    scope: \"col\",\n                    children: \"\\u0E23\\u0E32\\u0E04\\u0E32\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 403,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"th-table\",\n                    scope: \"col\",\n                    children: \"\\u0E08\\u0E33\\u0E19\\u0E27\\u0E19\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 406,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"th-table\",\n                    scope: \"col\",\n                    children: \"\\u0E15\\u0E31\\u0E27\\u0E40\\u0E25\\u0E37\\u0E2D\\u0E01\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 409,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 399,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 398,\n                columnNumber: 17\n              }, this), productlist.map(post => {\n                return /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"td-table\",\n                      children: /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: post.product_name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 419,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 418,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"td-table\",\n                      children: /*#__PURE__*/_jsxDEV(\"p\", {\n                        price: post.price,\n                        children: post.price\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 422,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 421,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"td-table\",\n                      children: /*#__PURE__*/_jsxDEV(\"p\", {\n                        children: post.number\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 425,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 424,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"td-table\",\n                      children: /*#__PURE__*/_jsxDEV(\"button\", {\n                        className: \"button-delete-item\",\n                        name: post.id,\n                        onClick: e => {\n                          deleteproduct(e);\n                          updateprice(post.price * post.number);\n                        },\n                        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                          className: \"far fa-times-circle\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 436,\n                          columnNumber: 29\n                        }, this), \" \\u0E25\\u0E1A\\u0E23\\u0E32\\u0E22\\u0E01\\u0E32\\u0E23\\u0E19\\u0E35\\u0E49\", ' ', /*#__PURE__*/_jsxDEV(\"i\", {\n                          className: \"far fa-times-circle\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 437,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 428,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 427,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 417,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 416,\n                  columnNumber: 21\n                }, this);\n              }), /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: promotionlist.map(promotion => {\n                  return /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      display: 'flex'\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"p\", {\n                      name: promotion.id,\n                      children: [\"\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\\u0E42\\u0E1B\\u0E23\\u0E42\\u0E21\\u0E0A\\u0E31\\u0E19 : \", promotion.product_name, \" x\", ' ', promotion.number]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 448,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 447,\n                    columnNumber: 23\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 444,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 397,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 396,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 395,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 394,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"div-total-price\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"h3-total-price\",\n          children: [\"\\u0E23\\u0E32\\u0E04\\u0E32\\u0E23\\u0E27\\u0E21 : \", total_price, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 461,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"button-total-price\",\n          onClick: calculatepoint,\n          children: \"\\u0E04\\u0E33\\u0E19\\u0E27\\u0E13\\u0E40\\u0E07\\u0E34\\u0E19\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 462,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 460,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 257,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Calculatepointshop, \"Nxg2YIVhFilzZquxGx+MTyO4Sbc=\", false, function () {\n  return [useHistory];\n});\n\n_c = Calculatepointshop;\nexport default Calculatepointshop;\n\nvar _c;\n\n$RefreshReg$(_c, \"Calculatepointshop\");","map":{"version":3,"sources":["D:/login_and_register - Copy/client/src/components/Calculatepointshop.js"],"names":["React","useState","Link","useHistory","useEffect","axios","Modal","motion","customStyles","content","width","height","top","left","right","bottom","marginRight","transform","Calculatepointshop","modalIsOpen","setIsOpen","openModal","afterOpenModal","closeModal","history","product_code","setproduct_code","productlist","setProductlist","promotionlist","setPromotionlist","total_price","setTotal_Price","id","setId","shoppoint","setShopPoint","phone","setPhone","destPhone","setdestPhone","total_point","setTotal_Point","product_amount","setproduct_amount","namesearch","setnamesearch","allproduct","setALLPRODUCT","fillterALLPRODUCT","setFilteredALLPRODUCT","refresh","get","window","location","reload","searchproductname","event","value","toLowerCase","result","shoplist","filter","data","name","search","setFilteredShop","entername","post","then","response","entercode","number","a","length","product_name","price","result2","result1","amount_point","transferTocustomer","list","alert","go","calculate","message","calculatepoint","promotionpoint","i","Math","floor","push","deleteproduct","e","target","getAttribute","JSON","stringify","updateprice","gotoTopupPage","pageTransition","in","opacity","x","out","loggedIn","user","role","y","color","preventDefault","map","promotion","display"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport { useEffect } from 'react'\r\nimport axios from 'axios'\r\nimport Modal from 'react-modal'\r\nimport './Calculatepointshop.css'\r\nimport { motion } from 'framer-motion'\r\n\r\nconst customStyles = {\r\n  content: {\r\n    width: '100%',\r\n    height: '50%',\r\n    top: '50%',\r\n    left: '50%',\r\n    right: 'auto',\r\n    bottom: 'auto',\r\n    marginRight: '-50%',\r\n    transform: 'translate(-50%, -50%)',\r\n  },\r\n}\r\n\r\nfunction Calculatepointshop() {\r\n  const [modalIsOpen, setIsOpen] = React.useState(false)\r\n\r\n  function openModal() {\r\n    setIsOpen(true)\r\n  }\r\n\r\n  function afterOpenModal() {\r\n    // references are now sync'd and can be accessed.\r\n  }\r\n\r\n  function closeModal() {\r\n    setIsOpen(false)\r\n  }\r\n\r\n  //-----------------------------------------------------\r\n  const history = useHistory()\r\n  //-----------------------------------------------------\r\n  const [product_code, setproduct_code] = useState('')\r\n  const [productlist, setProductlist] = useState([])\r\n  const [promotionlist, setPromotionlist] = useState([])\r\n  const [total_price, setTotal_Price] = useState(0)\r\n  const [id, setId] = useState()\r\n  const [shoppoint, setShopPoint] = useState()\r\n  const [phone, setPhone] = useState('')\r\n  const [destPhone, setdestPhone] = useState('')\r\n  const [total_point, setTotal_Point] = useState(0)\r\n  const [product_amount, setproduct_amount] = useState(1)\r\n\r\n  const [namesearch, setnamesearch] = useState('')\r\n  const [allproduct, setALLPRODUCT] = useState([])\r\n  const [fillterALLPRODUCT, setFilteredALLPRODUCT] = useState([])\r\n\r\n  const refresh = () => {\r\n    axios.get('/shop')\r\n    window.location.reload()\r\n  }\r\n\r\n  const searchproductname = (event) => {\r\n    let value = event.toLowerCase()\r\n    let result = []\r\n    result = shoplist.filter((data) => {\r\n      return data.name.search(value) != -1\r\n    })\r\n    setFilteredShop(result)\r\n  }\r\n\r\n  const entername = () => {\r\n    if (!namesearch) {\r\n    } else {\r\n      axios\r\n        .post('/enternamesearch', { namesearch: namesearch })\r\n        .then((response) => {})\r\n    }\r\n  }\r\n\r\n  const entercode = (number) => {\r\n    var a\r\n    if (!product_code) {\r\n    } else {\r\n      axios\r\n        .post('/enterproductcode', {\r\n          product_code: product_code,\r\n        })\r\n        .then((response) => {\r\n          if (response.data.productlist) {\r\n            for (a = 0; a < `${productlist.length}`; a++) {}\r\n            setProductlist([\r\n              ...productlist,\r\n              {\r\n                id: a,\r\n                product_name: response.data.productlist[0].product_name,\r\n                product_code: response.data.productlist[0].product_code,\r\n                price: response.data.productlist[0].price,\r\n                number: number,\r\n              },\r\n            ])\r\n            setTotal_Price(\r\n              total_price + response.data.productlist[0].price * number,\r\n            )\r\n          } else if (response.data.result2) {\r\n            for (a = 0; a < `${productlist.length}`; a++) {}\r\n            setProductlist([\r\n              ...productlist,\r\n              {\r\n                id: a,\r\n                product_name: response.data.result1[0].product_name,\r\n                product_code: response.data.result1[0].product_code,\r\n                price: response.data.result1[0].price,\r\n                number: number,\r\n              },\r\n            ])\r\n            setPromotionlist([\r\n              ...promotionlist,\r\n              {\r\n                id: a,\r\n                product_name: response.data.result1[0].product_name,\r\n                product_code: response.data.result1[0].product_code,\r\n                price: response.data.result1[0].price,\r\n                amount_point: response.data.result2.amount_point,\r\n                number: number,\r\n              },\r\n            ])\r\n            setTotal_Price(\r\n              total_price + response.data.result1[0].price * number,\r\n            )\r\n          }\r\n        })\r\n      setproduct_code('')\r\n    }\r\n  }\r\n\r\n  const transferTocustomer = () => {\r\n    if (!destPhone) {\r\n      axios.post('/transaction/buying', {\r\n        list: productlist,\r\n        destPhone: destPhone,\r\n      })\r\n      alert('success')\r\n      history.go()\r\n    } else {\r\n      if (shoppoint < total_point) {\r\n        alert('คะแนนร้านค้าไม่เพียงพอ กรุณาเติมคะแนน')\r\n      } else {\r\n        axios\r\n          .post('/calculateprice', {\r\n            total_point: total_point,\r\n            destPhone: destPhone,\r\n          })\r\n          .then((response) => {\r\n            if (response.data.calculate) {\r\n              axios.post('/transaction/buying', {\r\n                list: productlist,\r\n                destPhone: destPhone,\r\n              })\r\n              alert(response.data.calculate)\r\n              axios.get('/shop')\r\n              history.go()\r\n            } else {\r\n              alert(response.data.message)\r\n            }\r\n          })\r\n      }\r\n    }\r\n  }\r\n\r\n  const calculatepoint = () => {\r\n    var promotionpoint = 0\r\n    for (let i = 0; i < `${promotionlist.length}`; i++) {\r\n      promotionpoint +=\r\n        (promotionlist[i].amount_point -\r\n          Math.floor(promotionlist[i].price / 50)) *\r\n        promotionlist[i].number\r\n    }\r\n    setTotal_Point(Math.floor(total_price / 50) + promotionpoint)\r\n    if (productlist.length === 0) {\r\n    } else {\r\n      axios.get('/checksystemcoin').then((response) => {\r\n        if (response.data.message) {\r\n          alert(response.data.message)\r\n          history.push('/')\r\n        }\r\n      })\r\n      openModal()\r\n    }\r\n  }\r\n\r\n  const deleteproduct = (e) => {\r\n    const id = e.target.getAttribute('name')\r\n    setProductlist(\r\n      productlist.filter(\r\n        (productlist) => JSON.stringify(productlist.id) !== id,\r\n      ),\r\n    )\r\n    setPromotionlist(\r\n      promotionlist.filter(\r\n        (promotionlist) => JSON.stringify(promotionlist.id) !== id,\r\n      ),\r\n    )\r\n  }\r\n\r\n  const updateprice = (price) => {\r\n    setTotal_Price(total_price - price)\r\n  }\r\n\r\n  const gotoTopupPage = () => {\r\n    history.push('/top-up-point-shop')\r\n  }\r\n\r\n  /* ********************************** */\r\n\r\n  const pageTransition = {\r\n    in: {\r\n      opacity: 1,\r\n      x: 0,\r\n    },\r\n    out: {\r\n      opacity: 0,\r\n      x: 100,\r\n    },\r\n  }\r\n\r\n  /* ********************************** */\r\n\r\n  useEffect(() => {\r\n    axios.get('/checksystemcoin').then((response) => {\r\n      if (response.data.message) {\r\n        alert(response.data.message)\r\n        history.push('/')\r\n      }\r\n    })\r\n    axios.get('/login').then((response) => {\r\n      if (response.data.loggedIn === true) {\r\n        axios.get('/shop').then((response) => {\r\n          setId(response.data.user[0].id)\r\n          setShopPoint(response.data.user[0].shoppoint)\r\n          setPhone(response.data.user[0].phone)\r\n        })\r\n        axios.get('/getproduct').then((response) => {\r\n          if (response.data) {\r\n            setALLPRODUCT(response.data)\r\n            setFilteredALLPRODUCT(response.data)\r\n          }\r\n        })\r\n      }\r\n      if (\r\n        response.data.loggedIn === false ||\r\n        response.data.user[0].role !== 'shop'\r\n      ) {\r\n        return history.push('/login')\r\n      }\r\n    })\r\n  }, [])\r\n\r\n  return (\r\n    <div className=\"calculatepointpage\">\r\n      <div className=\"calculate-modal\">\r\n        <Modal\r\n          isOpen={modalIsOpen}\r\n          onAfterOpen={afterOpenModal}\r\n          onRequestClose={closeModal}\r\n          style={customStyles}\r\n          contentLabel=\"Example Modal\"\r\n        >\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 100 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            exit={{ opacity: 0, y: 100 }}\r\n          >\r\n            <div className=\"divcalculate-modal\">\r\n              <h2 className=\"pcalculate-modal\">ได้รับ : {total_point} คะแนน</h2>\r\n              <div>\r\n                <button\r\n                  className=\"buttoncalculate-modal1\"\r\n                  onClick={transferTocustomer}\r\n                >\r\n                  ยืนยัน\r\n                </button>\r\n                <button className=\"buttoncalculate-modal2\" onClick={closeModal}>\r\n                  ยกเลิก\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </motion.div>\r\n        </Modal>\r\n      </div>\r\n      <link\r\n        rel=\"stylesheet\"\r\n        type=\"text/css\"\r\n        href=\"//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css\"\r\n      />\r\n      <link\r\n        href=\"//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css\"\r\n        rel=\"stylesheet\"\r\n      ></link>\r\n\r\n      <nav className=\"navbar navbar-light bg-light justify-content-between\">\r\n        <Link className=\"buttonblack\" to=\"/\">\r\n          <i className=\"fas fa-angle-left\">\r\n            <a className=\"bl\">ย้อนกลับ</a>\r\n          </i>\r\n        </Link>\r\n        <div className=\"div-img-logo2\">\r\n          <img className=\"img-logoo\" src=\"/images/logo.png\" />\r\n        </div>\r\n      </nav>\r\n\r\n      <motion.div\r\n        initial=\"out\"\r\n        animate=\"in\"\r\n        exit=\"out\"\r\n        variants={pageTransition}\r\n      >\r\n        <div className=\"calculate-point-shop\">\r\n          <button onClick={gotoTopupPage} className=\"buttontop-up\">\r\n            <i className=\"fas fa-plus\"></i>\r\n            เติมคะแนน\r\n          </button>\r\n\r\n          <div className=\"calculate-con\">\r\n            <h2 className=\"h2promotion\">คำนวณคะแนน</h2>\r\n            <h1 className=\"h1promotion\">\r\n              คะแนนของร้านค้า : {shoppoint}{' '}\r\n              <i\r\n                onClick={refresh}\r\n                className=\"fas fa-sync-alt\"\r\n                style={{ color: 'black' }}\r\n              />\r\n            </h1>\r\n          </div>\r\n\r\n          <form\r\n            className=\"from-calculatepointshop\"\r\n            onSubmit={(e) => {\r\n              e.preventDefault()\r\n              entercode(product_amount)\r\n            }}\r\n          >\r\n            <label className=\"label-input1-calculatepointshopp\">\r\n              เบอร์โทรศัพท์ลูกค้า\r\n            </label>\r\n            <input\r\n              className=\"input-input1-calculatepointshopp\"\r\n              type=\"tel\"\r\n              placeholder=\"เบอร์โทรลูกค้า\"\r\n              onChange={(e) => {\r\n                setdestPhone(e.target.value)\r\n              }}\r\n            />\r\n            <label className=\"label-input2-calculatepointshopp\">\r\n              รหัสสินค้า\r\n            </label>\r\n            <input\r\n              className=\"input-input2-calculatepointshopp\"\r\n              type=\"text\"\r\n              placeholder=\"รหัสสินค้า\"\r\n              value={product_code}\r\n              onChange={(e) => {\r\n                setproduct_code(e.target.value)\r\n              }}\r\n            />\r\n            <label>ชื่อสินค้า</label>\r\n            <input\r\n              placeholder=\"ป้อนชื่อสินค้า\"\r\n              onChange={(e) => {\r\n                searchproductname(e.target.value)\r\n              }}\r\n            />\r\n            <label className=\"label-input3-calculatepointshopp\">จำนวน</label>\r\n            <input\r\n              className=\"input-input3-calculatepointshopp\"\r\n              type=\"number\"\r\n              min=\"1\"\r\n              placeholder=\"จำนวน\"\r\n              value={product_amount}\r\n              onChange={(e) => {\r\n                setproduct_amount(e.target.value)\r\n              }}\r\n            />\r\n            <button\r\n              type=\"reset\"\r\n              className=\"btn btn-primary reset-product-amount\"\r\n              onClick={() => setproduct_amount(1)}\r\n            >\r\n              รีเซ็ตจำนวน\r\n            </button>\r\n            <button className=\"button-input-calculatepointshop\" type=\"submit\">\r\n              ตกลง\r\n            </button>\r\n          </form>\r\n        </div>\r\n\r\n        <div className=\"table-wrapper-scroll-y my-custom-scrollbar\">\r\n          <div className=\"table-responsive\">\r\n            <center>\r\n              <table className=\"table table-bordered\">\r\n                <thead>\r\n                  <tr>\r\n                    <th className=\"th-table\" scope=\"col\">\r\n                      รายการสินค้า\r\n                    </th>\r\n                    <th className=\"th-table\" scope=\"col\">\r\n                      ราคา\r\n                    </th>\r\n                    <th className=\"th-table\" scope=\"col\">\r\n                      จำนวน\r\n                    </th>\r\n                    <th className=\"th-table\" scope=\"col\">\r\n                      ตัวเลือก\r\n                    </th>\r\n                  </tr>\r\n                </thead>\r\n                {productlist.map((post) => {\r\n                  return (\r\n                    <tbody>\r\n                      <tr>\r\n                        <td className=\"td-table\">\r\n                          <p>{post.product_name}</p>\r\n                        </td>\r\n                        <td className=\"td-table\">\r\n                          <p price={post.price}>{post.price}</p>\r\n                        </td>\r\n                        <td className=\"td-table\">\r\n                          <p>{post.number}</p>\r\n                        </td>\r\n                        <td className=\"td-table\">\r\n                          <button\r\n                            className=\"button-delete-item\"\r\n                            name={post.id}\r\n                            onClick={(e) => {\r\n                              deleteproduct(e)\r\n                              updateprice(post.price * post.number)\r\n                            }}\r\n                          >\r\n                            <i className=\"far fa-times-circle\"></i> ลบรายการนี้{' '}\r\n                            <i className=\"far fa-times-circle\"></i>\r\n                          </button>\r\n                        </td>\r\n                      </tr>\r\n                    </tbody>\r\n                  )\r\n                })}\r\n                <tr>\r\n                  {promotionlist.map((promotion) => {\r\n                    return (\r\n                      <div style={{ display: 'flex' }}>\r\n                        <p name={promotion.id}>\r\n                          สินค้าโปรโมชัน : {promotion.product_name} x{' '}\r\n                          {promotion.number}\r\n                        </p>\r\n                      </div>\r\n                    )\r\n                  })}\r\n                </tr>\r\n              </table>\r\n            </center>\r\n          </div>\r\n        </div>\r\n        <div className=\"div-total-price\">\r\n          <h3 className=\"h3-total-price\">ราคารวม : {total_price} </h3>\r\n          <button className=\"button-total-price\" onClick={calculatepoint}>\r\n            คำนวณเงิน\r\n          </button>\r\n        </div>\r\n      </motion.div>\r\n    </div>\r\n  )\r\n}\r\nexport default Calculatepointshop\r\n"]},"metadata":{},"sourceType":"module"}