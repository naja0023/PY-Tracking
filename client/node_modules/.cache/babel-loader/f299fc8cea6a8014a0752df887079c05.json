{"ast":null,"code":"import _slicedToArray from\"D:/login_and_register - Copy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import{BrowserRouter as Router,Route,Switch,useHistory}from\"react-router-dom\";import axios from\"axios\";import{useEffect}from\"react\";import{useState}from\"react\";import Registeration from\"./pages/Registeration\";import Login from\"./pages/Login\";import Main from\"./pages/Main\";import Home from\"./components/Home\";import Transferpoint from\"./components/Transferpoint\";import Transaction from\"./components/Transaction\";import Promotion from\"./components/Promotion\";import Memberprofile from\"./components/Memberprofile\";import Transferpointshop from\"./components/Transferpointshop\";import Calculatepointshop from\"./components/Calculatepointshop\";import Transactionshop from\"./components/Transactionshop\";import Promotionshop from\"./components/Promotionshop\";import Topuppointshop from\"./components/Topuppointshop\";import Shopprofile from\"./components/Shopprofile\";import Promotiondetails from\"./components/Promotiondetails\";import Mypromotionshop from\"./components/Mypromotionshop\";import Productstockpage from\"./components/Productstockpage\";import Addstock from\"./components/Addstock\";import Addpromotion from\"./components/Addpromotion\";import Orderhistory from\"./components/Orderhistory\";import ProtectedRoute from\"./components/ProtectedRoute\";import\"./App.css\";import{AnimatePresence}from\"framer-motion\";import{useLocation}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";axios.defaults.baseURL=\"http://localhost:3001\";function App(){var history=useHistory();axios.defaults.withCredentials=true;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),Auth=_useState2[0],setAuth=_useState2[1];useEffect(function(){axios.get(\"/login\").then(function(response){if(response.data.loggedIn===true){setAuth(true);}else{setAuth(false);}});},[]);/* ******************************** */var location=useLocation();/* ******************************** */return/*#__PURE__*/_jsx(AnimatePresence,{exitBeforeEnter:true,children:/*#__PURE__*/_jsxs(Router,{basename:'/point_acc',location:location,children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/home\",component:Home}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",component:Main}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/registration\",component:Registeration}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/login\",component:Login}),/*#__PURE__*/_jsx(ProtectedRoute,{Auth:Auth,path:\"/transfer-point\",component:Transferpoint}),/*#__PURE__*/_jsx(ProtectedRoute,{Auth:Auth,path:\"/transaction\",component:Transaction}),/*#__PURE__*/_jsx(ProtectedRoute,{Auth:Auth,path:\"/promotion\",component:Promotion}),/*#__PURE__*/_jsx(ProtectedRoute,{Auth:Auth,path:\"/memberprofile\",component:Memberprofile}),/*#__PURE__*/_jsx(ProtectedRoute,{Auth:Auth,path:\"/transfer-pointshop\",component:Transferpointshop}),/*#__PURE__*/_jsx(ProtectedRoute,{Auth:Auth,path:\"/calculate-point-shop\",component:Calculatepointshop}),/*#__PURE__*/_jsx(ProtectedRoute,{Auth:Auth,path:\"/transaction-shop\",component:Transactionshop}),/*#__PURE__*/_jsx(ProtectedRoute,{Auth:Auth,path:\"/promotion-shop\",component:Promotionshop}),/*#__PURE__*/_jsx(ProtectedRoute,{Auth:Auth,path:\"/top-up-point-shop\",component:Topuppointshop}),/*#__PURE__*/_jsx(ProtectedRoute,{Auth:Auth,path:\"/shopprofile/\",component:Shopprofile}),/*#__PURE__*/_jsx(ProtectedRoute,{Auth:Auth,path:\"/promotiondetails/:shopname\",component:Promotiondetails}),/*#__PURE__*/_jsx(ProtectedRoute,{Auth:Auth,path:\"/myshop\",component:Mypromotionshop}),/*#__PURE__*/_jsx(ProtectedRoute,{Auth:Auth,path:\"/addpromotion/:option\",component:Addpromotion}),/*#__PURE__*/_jsx(ProtectedRoute,{Auth:Auth,path:\"/product-stockpage\",component:Productstockpage}),/*#__PURE__*/_jsx(ProtectedRoute,{Auth:Auth,path:\"/addstock\",component:Addstock}),/*#__PURE__*/_jsx(ProtectedRoute,{Auth:Auth,path:\"/order-history\",component:Orderhistory})]},location.pathname)});}export default App;","map":{"version":3,"sources":["D:/login_and_register - Copy/client/src/App.js"],"names":["React","BrowserRouter","Router","Route","Switch","useHistory","axios","useEffect","useState","Registeration","Login","Main","Home","Transferpoint","Transaction","Promotion","Memberprofile","Transferpointshop","Calculatepointshop","Transactionshop","Promotionshop","Topuppointshop","Shopprofile","Promotiondetails","Mypromotionshop","Productstockpage","Addstock","Addpromotion","Orderhistory","ProtectedRoute","AnimatePresence","useLocation","defaults","baseURL","App","history","withCredentials","Auth","setAuth","get","then","response","data","loggedIn","location","pathname"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Route,\r\n  Switch,\r\n  useHistory,\r\n} from \"react-router-dom\";\r\n\r\nimport axios from \"axios\";\r\nimport { useEffect } from \"react\";\r\nimport { useState } from \"react\";\r\n\r\nimport Registeration from \"./pages/Registeration\";\r\nimport Login from \"./pages/Login\";\r\nimport Main from \"./pages/Main\";\r\nimport Home from \"./components/Home\";\r\n\r\nimport Transferpoint from \"./components/Transferpoint\";\r\nimport Transaction from \"./components/Transaction\";\r\nimport Promotion from \"./components/Promotion\";\r\nimport Memberprofile from \"./components/Memberprofile\";\r\n\r\nimport Transferpointshop from \"./components/Transferpointshop\";\r\nimport Calculatepointshop from \"./components/Calculatepointshop\";\r\nimport Transactionshop from \"./components/Transactionshop\";\r\nimport Promotionshop from \"./components/Promotionshop\";\r\nimport Topuppointshop from \"./components/Topuppointshop\";\r\nimport Shopprofile from \"./components/Shopprofile\";\r\nimport Promotiondetails from \"./components/Promotiondetails\";\r\nimport Mypromotionshop from \"./components/Mypromotionshop\";\r\nimport Productstockpage from \"./components/Productstockpage\";\r\nimport Addstock from \"./components/Addstock\";\r\nimport Addpromotion from \"./components/Addpromotion\";\r\n\r\nimport Orderhistory from \"./components/Orderhistory\";\r\n\r\nimport ProtectedRoute from \"./components/ProtectedRoute\";\r\n\r\nimport \"./App.css\";\r\n\r\nimport { AnimatePresence } from \"framer-motion\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\naxios.defaults.baseURL = \"http://localhost:3001\";\r\n\r\nfunction App() {\r\n  const history = useHistory();\r\n  axios.defaults.withCredentials = true;\r\n  const [Auth, setAuth] = useState(false);\r\n\r\n  useEffect(() => {\r\n    axios.get(\"/login\").then((response) => {\r\n      if (response.data.loggedIn === true) {\r\n        setAuth(true);\r\n      } else {\r\n        setAuth(false);\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  /* ******************************** */\r\n  const location = useLocation();\r\n\r\n  /* ******************************** */\r\n  return (\r\n    <AnimatePresence exitBeforeEnter>\r\n      <Router basename={'/point_acc'} location={location} key={location.pathname}>\r\n        <Route exact path=\"/home\" component={Home} />\r\n        <Route exact path=\"/\" component={Main} />\r\n        <Route exact path=\"/registration\" component={Registeration} />\r\n        <Route exact path=\"/login\" component={Login} />\r\n        {/**-----------------------------------member----------------------------------- */}\r\n        <ProtectedRoute\r\n          Auth={Auth}\r\n          path=\"/transfer-point\"\r\n          component={Transferpoint}\r\n        />\r\n        <ProtectedRoute\r\n          Auth={Auth}\r\n          path=\"/transaction\"\r\n          component={Transaction}\r\n        />\r\n        <ProtectedRoute Auth={Auth} path=\"/promotion\" component={Promotion} />\r\n        <ProtectedRoute\r\n          Auth={Auth}\r\n          path=\"/memberprofile\"\r\n          component={Memberprofile}\r\n        />\r\n        {/**-----------------------------------shop----------------------------------- */}\r\n        <ProtectedRoute\r\n          Auth={Auth}\r\n          path=\"/transfer-pointshop\"\r\n          component={Transferpointshop}\r\n        />\r\n        <ProtectedRoute\r\n          Auth={Auth}\r\n          path=\"/calculate-point-shop\"\r\n          component={Calculatepointshop}\r\n        />\r\n        <ProtectedRoute\r\n          Auth={Auth}\r\n          path=\"/transaction-shop\"\r\n          component={Transactionshop}\r\n        />\r\n        <ProtectedRoute\r\n          Auth={Auth}\r\n          path=\"/promotion-shop\"\r\n          component={Promotionshop}\r\n        />\r\n        <ProtectedRoute\r\n          Auth={Auth}\r\n          path=\"/top-up-point-shop\"\r\n          component={Topuppointshop}\r\n        />\r\n        <ProtectedRoute\r\n          Auth={Auth}\r\n          path=\"/shopprofile/\"\r\n          component={Shopprofile}\r\n        />\r\n        <ProtectedRoute\r\n          Auth={Auth}\r\n          path=\"/promotiondetails/:shopname\"\r\n          component={Promotiondetails}\r\n        />\r\n        <ProtectedRoute\r\n          Auth={Auth}\r\n          path=\"/myshop\"\r\n          component={Mypromotionshop}\r\n        />\r\n        <ProtectedRoute\r\n          Auth={Auth}\r\n          path=\"/addpromotion/:option\"\r\n          component={Addpromotion}\r\n        />\r\n        <ProtectedRoute\r\n          Auth={Auth}\r\n          path=\"/product-stockpage\"\r\n          component={Productstockpage}\r\n        />\r\n        <ProtectedRoute Auth={Auth} path=\"/addstock\" component={Addstock} />\r\n        <ProtectedRoute\r\n          Auth={Auth}\r\n          path=\"/order-history\"\r\n          component={Orderhistory}\r\n        />\r\n      </Router>\r\n    </AnimatePresence>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}