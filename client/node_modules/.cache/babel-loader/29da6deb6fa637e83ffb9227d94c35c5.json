{"ast":null,"code":"var _jsxFileName = \"D:\\\\login_and_register - Copy\\\\client\\\\src\\\\components\\\\Transferpoint.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { useEffect } from 'react';\nimport axios from 'axios';\nimport Modal from 'react-modal';\nimport { Loader } from 'semantic-ui-react';\nimport './Transferpoint.css';\nimport { motion } from 'framer-motion';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst customStyles = {\n  content: {\n    top: '50%',\n    left: '50%',\n    right: 'auto',\n    bottom: 'auto',\n    marginRight: '-50%',\n    transform: 'translate(-50%, -50%)'\n  }\n};\nexport default function Transferpoint() {\n  _s();\n\n  let subtitle;\n  const [modalIsOpenCheck, setIsOpenCheck] = useState(false);\n  const [modalIsOpenConfirm, setIsOpenConfirm] = useState(false);\n  const [destname, setDestName] = useState('');\n  const [active, setactive] = useState(false); //loader\n\n  const [active1, setactive1] = useState(true); //loader\n  //--------------------------------------------------------------\n\n  function backtoHome() {\n    history.push('/');\n    history.go();\n  }\n\n  function openModalCheck() {\n    axios.post('/transfer/check', {\n      phone: destPhone\n    }).then(response => {\n      if (response.data.message) {\n        setStatus(response.data.message);\n      } else if (response.data) {\n        setDestName(response.data[0].name);\n        setIsOpenCheck(true);\n      }\n    });\n  }\n\n  function openModalConfirm() {\n    setactive(true);\n    const timer = setTimeout(() => {\n      axios.put('/memberPointTransfer', {\n        id: id,\n        phone: phone,\n        destphone: destPhone,\n        amount: amount\n      }).then(response => {\n        if (response.data.message) {\n          alert(response.data.message);\n        } else if (response.data.loggedIn === true) {\n          setIsOpenConfirm(true);\n          setPoint(response.data.user[0].point);\n        }\n      });\n      setactive(false);\n    }, 4000);\n    return () => clearTimeout(timer);\n  }\n\n  function afterOpenModal() {\n    // references are now sync'd and can be accessed.\n    subtitle.style.color = 'black';\n  }\n\n  function closeModal() {\n    setIsOpenCheck(false);\n    setIsOpenConfirm(false);\n  } //-------------------------------------------------------\n\n\n  axios.defaults.withCredentials = true;\n  const history = useHistory();\n  const [id, setId] = useState();\n  const [point, setPoint] = useState();\n  const [name, setName] = useState('');\n  const [phone, setPhone] = useState('');\n  const [destPhone, setdestPhone] = useState('');\n  const [amount, setamount] = useState();\n  const [status, setStatus] = useState('');\n\n  const checkinput = () => {\n    if (active1 == false) {\n      if (!destPhone) {\n        setStatus('เบอร์ปลายทางไม่ถูกต้อง');\n      } else if (phone === destPhone) {\n        setStatus('เบอร์ปลายทางไม่ถูกต้อง');\n      } else if (!amount) {\n        setStatus('โปรดป้อนจำนวนคะแนน');\n      } else if (amount > point) {\n        setStatus('คะแนนไม่เพียงพอสำหรับการโอน');\n      } else if (amount < 1) {\n        setStatus('คะแนนไม่ถูกต้อง');\n      } else {\n        setStatus('');\n        openModalCheck();\n      }\n    } else {\n      alert('เกิดข้อผิดพลาด กรุณาลองใหม่ภายหลัง');\n      history.push('/');\n    }\n  };\n  /* ********************************** */\n\n\n  const pageTransition = {\n    in: {\n      opacity: 1,\n      x: 0\n    },\n    out: {\n      opacity: 0,\n      x: 100\n    }\n  };\n  /* ********************************** */\n\n  useEffect(() => {\n    axios.get('/checksystemcoin').then(response => {\n      if (response.data.message) {\n        alert(response.data.message);\n        history.push('/');\n      }\n    });\n    const timer = setTimeout(() => {\n      setactive1(false);\n      axios.get('/login').then(response => {\n        if (response.data.loggedIn === true) {\n          axios.get('/member').then(response => {\n            setId(response.data.user[0].id);\n            setName(response.data.user[0].name);\n            setPoint(response.data.user[0].point);\n            setPhone(response.data.user[0].phone);\n          });\n        }\n\n        if (response.data.loggedIn === false || response.data.user[0].role !== 'member') {\n          return history.push('/login');\n        }\n      });\n    }, 3000);\n    return () => clearTimeout(timer);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"transferpointshop\",\n      children: /*#__PURE__*/_jsxDEV(Modal, {\n        isOpen: modalIsOpenCheck,\n        onAfterOpen: afterOpenModal,\n        onRequestClose: closeModal,\n        style: customStyles,\n        contentLabel: \"Example Modal\",\n        children: /*#__PURE__*/_jsxDEV(motion.div, {\n          initial: {\n            opacity: 0,\n            y: 100\n          },\n          animate: {\n            opacity: 1,\n            y: 0\n          },\n          exit: {\n            opacity: 0,\n            y: 100\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"div-transferpointshop\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"h2transferpointshop\",\n              ref: _subtitle => subtitle = _subtitle,\n              children: \"\\u0E15\\u0E23\\u0E27\\u0E08\\u0E2A\\u0E2D\\u0E1A\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"h3transfershop\",\n              children: [\"\\u0E08\\u0E32\\u0E01 : \", name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"h3transfershop\",\n              children: [\"\\u0E42\\u0E2D\\u0E19\\u0E04\\u0E30\\u0E41\\u0E19\\u0E19\\u0E43\\u0E2B\\u0E49 : \", destname]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"h3transfershop\",\n              children: [\"\\u0E08\\u0E33\\u0E19\\u0E27\\u0E19\\u0E04\\u0E30\\u0E41\\u0E19\\u0E19 : \", amount, \" \\u0E04\\u0E30\\u0E41\\u0E19\\u0E19\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"buttoncalculate-modal1\",\n                onClick: openModalConfirm,\n                children: \"\\u0E22\\u0E37\\u0E19\\u0E22\\u0E31\\u0E19\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"buttoncalculate-modal2\",\n                onClick: closeModal,\n                children: \"\\u0E22\\u0E01\\u0E40\\u0E25\\u0E34\\u0E01\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"div-transferpointshop\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {},\n        children: /*#__PURE__*/_jsxDEV(Loader, {\n          active: active1,\n          content: \"\\u0E42\\u0E2B\\u0E25\\u0E14\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\",\n          style: {\n            background: 'red',\n            width: '100vw'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Loader, {\n        active: active\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        isOpen: modalIsOpenConfirm,\n        onAfterOpen: afterOpenModal,\n        onRequestClose: closeModal,\n        style: customStyles,\n        contentLabel: \"Example Modal\",\n        children: /*#__PURE__*/_jsxDEV(motion.div, {\n          initial: {\n            opacity: 0,\n            y: 100\n          },\n          animate: {\n            opacity: 1,\n            y: 0\n          },\n          exit: {\n            opacity: 0,\n            y: 100\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"h2h2transferpointshop\",\n            ref: _subtitle => subtitle = _subtitle,\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-check-circle\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 15\n            }, this), \"\\u0E42\\u0E2D\\u0E19\\u0E04\\u0E30\\u0E41\\u0E19\\u0E19\\u0E2A\\u0E33\\u0E40\\u0E23\\u0E47\\u0E08\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"h2modaltransfershop\",\n            children: [\"\\u0E1C\\u0E39\\u0E49\\u0E42\\u0E2D\\u0E19 : \", name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"img-down\",\n            src: \"images/down.png\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"h2modaltransfershop\",\n            children: [\"\\u0E1C\\u0E39\\u0E49\\u0E23\\u0E31\\u0E1A : \", destname]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"h2modaltransfershop-amount\",\n            children: [\"\\u0E08\\u0E33\\u0E19\\u0E27\\u0E19\\u0E04\\u0E30\\u0E41\\u0E19\\u0E19 : \", amount, \" \\u0E04\\u0E30\\u0E41\\u0E19\\u0E19\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"div-buttontranfer-point-1\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"buttontranfer-point-1\",\n              onClick: backtoHome,\n              children: \"\\u0E01\\u0E25\\u0E31\\u0E1A\\u0E2B\\u0E19\\u0E49\\u0E32\\u0E2B\\u0E25\\u0E31\\u0E01\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n      className: \"navbar navbar-light bg-light justify-content-between\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        className: \"buttonblack\",\n        to: \"/\",\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-angle-left\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            className: \"bl\",\n            children: \"\\u0E22\\u0E49\\u0E2D\\u0E19\\u0E01\\u0E25\\u0E31\\u0E1A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"div-img-logo2\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"img-logoo\",\n          src: \"/images/logo.png\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n      initial: \"out\",\n      animate: \"in\",\n      exit: \"out\",\n      variants: pageTransition,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container-fluid px-1 px-md-5 px-lg-1 px-xl-5 py-5 mx-auto\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card card00 border-0\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row d-flex\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-lg-6\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row px-3 justify-content-center mt-4 mb-5 border-linee\",\n                children: [' ', /*#__PURE__*/_jsxDEV(\"h1\", {\n                  className: \"h1-to\",\n                  children: [\"\\u0E04\\u0E30\\u0E41\\u0E19\\u0E19\\u0E17\\u0E31\\u0E49\\u0E07\\u0E2B\\u0E21\\u0E14 : \", point]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 347,\n                  columnNumber: 19\n                }, this), ' ', /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"images/transac1.png\",\n                  className: \"imageee\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 348,\n                  columnNumber: 19\n                }, this), ' ']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 345,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 344,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-lg-6\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card22 card border-0 px-4 py-5\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row px-3 mb-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"line\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 354,\n                    columnNumber: 21\n                  }, this), ' ', /*#__PURE__*/_jsxDEV(\"small\", {\n                    className: \"oror text-center\",\n                    children: \"\\u0E42\\u0E2D\\u0E19\\u0E04\\u0E30\\u0E41\\u0E19\\u0E19\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 355,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"line\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 356,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 353,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row px-3\",\n                  children: [' ', /*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"mb-1\",\n                    children: /*#__PURE__*/_jsxDEV(\"h6\", {\n                      className: \"mb-0 text-smm\",\n                      children: \"\\u0E40\\u0E1A\\u0E2D\\u0E23\\u0E4C\\u0E42\\u0E17\\u0E23\\u0E28\\u0E31\\u0E1E\\u0E17\\u0E4C\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 361,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 360,\n                    columnNumber: 21\n                  }, this), ' ', /*#__PURE__*/_jsxDEV(\"input\", {\n                    id: \"card-holder\",\n                    type: \"text\",\n                    className: \"input-input1-transferpoint\",\n                    placeholder: \"09xxxxxxxx\",\n                    \"aria-label\": \"Phone\",\n                    \"aria-describedby\": \"basic-addon1\",\n                    onChange: e => {\n                      setdestPhone(e.target.value);\n                    },\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 363,\n                    columnNumber: 21\n                  }, this), ' ']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 358,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row px-3\",\n                  children: [' ', /*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"mb-1\",\n                    children: /*#__PURE__*/_jsxDEV(\"h6\", {\n                      className: \"mb-0 text-smm\",\n                      children: \"\\u0E08\\u0E33\\u0E19\\u0E27\\u0E19\\u0E04\\u0E30\\u0E41\\u0E19\\u0E19\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 379,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 378,\n                    columnNumber: 21\n                  }, this), ' ', /*#__PURE__*/_jsxDEV(\"input\", {\n                    min: \"1\",\n                    id: \"card-number\",\n                    type: \"number\",\n                    className: \"input-input1-transferpoint\",\n                    placeholder: \"0\",\n                    \"aria-label\": \"amount\",\n                    \"aria-describedby\": \"basic-addon1\",\n                    onChange: e => {\n                      setamount(e.target.value);\n                    },\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 381,\n                    columnNumber: 21\n                  }, this), ' ']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 376,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row mb-3 px-3\",\n                  children: [' ', /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"p-form-group-btn\",\n                    style: {\n                      color: '#af0527'\n                    },\n                    children: status\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 397,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    className: \"btn-block-m\",\n                    onClick: checkinput,\n                    children: \"\\u0E15\\u0E23\\u0E27\\u0E08\\u0E2A\\u0E2D\\u0E1A\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 403,\n                    columnNumber: 21\n                  }, this), ' ']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 395,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 352,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 351,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 160,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Transferpoint, \"fE5STidtqYUBPgV/mLKwDbQYq7Y=\", false, function () {\n  return [useHistory];\n});\n\n_c = Transferpoint;\n\nvar _c;\n\n$RefreshReg$(_c, \"Transferpoint\");","map":{"version":3,"sources":["D:/login_and_register - Copy/client/src/components/Transferpoint.js"],"names":["React","useState","Link","useHistory","useEffect","axios","Modal","Loader","motion","customStyles","content","top","left","right","bottom","marginRight","transform","Transferpoint","subtitle","modalIsOpenCheck","setIsOpenCheck","modalIsOpenConfirm","setIsOpenConfirm","destname","setDestName","active","setactive","active1","setactive1","backtoHome","history","push","go","openModalCheck","post","phone","destPhone","then","response","data","message","setStatus","name","openModalConfirm","timer","setTimeout","put","id","destphone","amount","alert","loggedIn","setPoint","user","point","clearTimeout","afterOpenModal","style","color","closeModal","defaults","withCredentials","setId","setName","setPhone","setdestPhone","setamount","status","checkinput","pageTransition","in","opacity","x","out","get","role","y","_subtitle","background","width","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport { useEffect } from 'react'\r\nimport axios from 'axios'\r\nimport Modal from 'react-modal'\r\nimport { Loader } from 'semantic-ui-react'\r\nimport './Transferpoint.css'\r\nimport { motion } from 'framer-motion'\r\n\r\nconst customStyles = {\r\n  content: {\r\n    top: '50%',\r\n    left: '50%',\r\n    right: 'auto',\r\n    bottom: 'auto',\r\n    marginRight: '-50%',\r\n    transform: 'translate(-50%, -50%)',\r\n  },\r\n}\r\n\r\nexport default function Transferpoint() {\r\n  let subtitle\r\n  const [modalIsOpenCheck, setIsOpenCheck] = useState(false)\r\n  const [modalIsOpenConfirm, setIsOpenConfirm] = useState(false)\r\n  const [destname, setDestName] = useState('')\r\n\r\n  const [active, setactive] = useState(false) //loader\r\n  const [active1, setactive1] = useState(true) //loader\r\n  //--------------------------------------------------------------\r\n  function backtoHome() {\r\n    history.push('/')\r\n    history.go()\r\n  }\r\n  function openModalCheck() {\r\n    axios\r\n      .post('/transfer/check', {\r\n        phone: destPhone,\r\n      })\r\n      .then((response) => {\r\n        if (response.data.message) {\r\n          setStatus(response.data.message)\r\n        } else if (response.data) {\r\n          setDestName(response.data[0].name)\r\n          setIsOpenCheck(true)\r\n        }\r\n      })\r\n  }\r\n\r\n  function openModalConfirm() {\r\n    setactive(true)\r\n    const timer = setTimeout(() => {\r\n      axios\r\n        .put('/memberPointTransfer', {\r\n          id: id,\r\n          phone: phone,\r\n          destphone: destPhone,\r\n          amount: amount,\r\n        })\r\n        .then((response) => {\r\n          if (response.data.message) {\r\n            alert(response.data.message)\r\n          } else if (response.data.loggedIn === true) {\r\n            setIsOpenConfirm(true)\r\n            setPoint(response.data.user[0].point)\r\n          }\r\n        })\r\n      setactive(false)\r\n    }, 4000)\r\n    return () => clearTimeout(timer)\r\n  }\r\n\r\n  function afterOpenModal() {\r\n    // references are now sync'd and can be accessed.\r\n    subtitle.style.color = 'black'\r\n  }\r\n\r\n  function closeModal() {\r\n    setIsOpenCheck(false)\r\n    setIsOpenConfirm(false)\r\n  }\r\n  //-------------------------------------------------------\r\n  axios.defaults.withCredentials = true\r\n\r\n  const history = useHistory()\r\n  const [id, setId] = useState()\r\n  const [point, setPoint] = useState()\r\n  const [name, setName] = useState('')\r\n  const [phone, setPhone] = useState('')\r\n  const [destPhone, setdestPhone] = useState('')\r\n  const [amount, setamount] = useState()\r\n  const [status, setStatus] = useState('')\r\n\r\n  const checkinput = () => {\r\n    if (active1 == false) {\r\n      if (!destPhone) {\r\n        setStatus('เบอร์ปลายทางไม่ถูกต้อง')\r\n      } else if (phone === destPhone) {\r\n        setStatus('เบอร์ปลายทางไม่ถูกต้อง')\r\n      } else if (!amount) {\r\n        setStatus('โปรดป้อนจำนวนคะแนน')\r\n      } else if (amount > point) {\r\n        setStatus('คะแนนไม่เพียงพอสำหรับการโอน')\r\n      } else if (amount < 1) {\r\n        setStatus('คะแนนไม่ถูกต้อง')\r\n      } else {\r\n        setStatus('')\r\n        openModalCheck()\r\n      }\r\n    } else {\r\n      alert('เกิดข้อผิดพลาด กรุณาลองใหม่ภายหลัง')\r\n      history.push('/')\r\n    }\r\n  }\r\n\r\n  /* ********************************** */\r\n\r\n  const pageTransition = {\r\n    in: {\r\n      opacity: 1,\r\n      x: 0,\r\n    },\r\n    out: {\r\n      opacity: 0,\r\n      x: 100,\r\n    },\r\n  }\r\n\r\n  /* ********************************** */\r\n\r\n  useEffect(() => {\r\n    axios.get('/checksystemcoin').then((response) => {\r\n      if (response.data.message) {\r\n        alert(response.data.message)\r\n        history.push('/')\r\n      }\r\n    })\r\n    const timer = setTimeout(() => {\r\n      setactive1(false)\r\n      axios.get('/login').then((response) => {\r\n        if (response.data.loggedIn === true) {\r\n          axios.get('/member').then((response) => {\r\n            setId(response.data.user[0].id)\r\n            setName(response.data.user[0].name)\r\n            setPoint(response.data.user[0].point)\r\n            setPhone(response.data.user[0].phone)\r\n          })\r\n        }\r\n        if (\r\n          response.data.loggedIn === false ||\r\n          response.data.user[0].role !== 'member'\r\n        ) {\r\n          return history.push('/login')\r\n        }\r\n      })\r\n    }, 3000)\r\n    return () => clearTimeout(timer)\r\n  }, [])\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"transferpointshop\">\r\n        <Modal\r\n          isOpen={modalIsOpenCheck}\r\n          onAfterOpen={afterOpenModal}\r\n          onRequestClose={closeModal}\r\n          style={customStyles}\r\n          contentLabel=\"Example Modal\"\r\n        >\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 100 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            exit={{ opacity: 0, y: 100 }}\r\n          >\r\n            <div className=\"div-transferpointshop\">\r\n              <h2\r\n                className=\"h2transferpointshop\"\r\n                ref={(_subtitle) => (subtitle = _subtitle)}\r\n              >\r\n                ตรวจสอบข้อมูล\r\n              </h2>\r\n\r\n              <h3 className=\"h3transfershop\">จาก : {name}</h3>\r\n\r\n              <h3 className=\"h3transfershop\">โอนคะแนนให้ : {destname}</h3>\r\n\r\n              <h3 className=\"h3transfershop\">จำนวนคะแนน : {amount} คะแนน</h3>\r\n\r\n              <div>\r\n                <button\r\n                  className=\"buttoncalculate-modal1\"\r\n                  onClick={openModalConfirm}\r\n                >\r\n                  ยืนยัน\r\n                </button>\r\n                <button className=\"buttoncalculate-modal2\" onClick={closeModal}>\r\n                  ยกเลิก\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </motion.div>\r\n        </Modal>\r\n      </div>\r\n\r\n      <div className=\"div-transferpointshop\">\r\n        <div style={{}}>\r\n          <Loader\r\n            active={active1}\r\n            content=\"โหลดข้อมูล\"\r\n            style={{ background: 'red', width: '100vw' }}\r\n          />\r\n        </div>\r\n        <Loader active={active} />\r\n        <Modal\r\n          isOpen={modalIsOpenConfirm}\r\n          onAfterOpen={afterOpenModal}\r\n          onRequestClose={closeModal}\r\n          style={customStyles}\r\n          contentLabel=\"Example Modal\"\r\n        >\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 100 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            exit={{ opacity: 0, y: 100 }}\r\n          >\r\n            <h2\r\n              className=\"h2h2transferpointshop\"\r\n              ref={(_subtitle) => (subtitle = _subtitle)}\r\n            >\r\n              <i className=\"fas fa-check-circle\"></i>โอนคะแนนสำเร็จ\r\n            </h2>\r\n            <hr />\r\n\r\n            <h2 className=\"h2modaltransfershop\">ผู้โอน : {name}</h2>\r\n            <img className=\"img-down\" src=\"images/down.png\"></img>\r\n            <h2 className=\"h2modaltransfershop\">ผู้รับ : {destname}</h2>\r\n            <hr />\r\n            <h2 className=\"h2modaltransfershop-amount\">\r\n              จำนวนคะแนน : {amount} คะแนน\r\n            </h2>\r\n\r\n            <div className=\"div-buttontranfer-point-1\">\r\n              <button className=\"buttontranfer-point-1\" onClick={backtoHome}>\r\n                กลับหน้าหลัก\r\n              </button>\r\n            </div>\r\n          </motion.div>\r\n        </Modal>\r\n      </div>\r\n\r\n      <nav className=\"navbar navbar-light bg-light justify-content-between\">\r\n        <Link className=\"buttonblack\" to=\"/\">\r\n          <i className=\"fas fa-angle-left\">\r\n            <a className=\"bl\">ย้อนกลับ</a>\r\n          </i>\r\n        </Link>\r\n        <div className=\"div-img-logo2\">\r\n          <img className=\"img-logoo\" src=\"/images/logo.png\" />\r\n        </div>\r\n      </nav>\r\n\r\n      <motion.div\r\n        initial=\"out\"\r\n        animate=\"in\"\r\n        exit=\"out\"\r\n        variants={pageTransition}\r\n      >\r\n        {/*<div className=\"col-lg-6-card-tranfermember\">\r\n          <form className=\"card-tranfermember\">\r\n            <div className=\"card-details\">\r\n              <div className=\"form-signin\">\r\n                <img\r\n                  className=\"im_user1\"\r\n                  src=\"images/transac1.png\"\r\n                ></img>\r\n              </div>\r\n              <h3 className=\"title-tranfermember\">โอนคะแนน</h3>\r\n              <div className=\"row-card-tranfermember\">\r\n                <div className=\"form-group col-sm-7\">\r\n                  <div className=\"inner-addon right-addon\">\r\n                    <label for=\"card-holder\" className=\"card-holder-n\">\r\n                      เบอร์โทรศัพท์\r\n                    </label>\r\n                    <div className=\"iphone\">\r\n                      <i className=\"fas fa-phone\"></i></div>\r\n\r\n                    <input\r\n                      id=\"card-holder\"\r\n                      type=\"text\"\r\n                      className=\"input-input1-transferpoint\"\r\n                      placeholder=\"09xxxxxxxx\"\r\n                      aria-label=\"Phone\"\r\n                      aria-describedby=\"basic-addon1\"\r\n                      onChange={(e) => {\r\n                        setdestPhone(e.target.value);\r\n                      }}\r\n                      required\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"form-group col-sm-7\">\r\n                  <div className=\"inner-addon right-addon\">\r\n                    <label for=\"card-number\" className=\"card-holder-n\">\r\n                      จำนวนคะแนน\r\n                    </label>\r\n                    <div className=\"iphone\">\r\n                      <i className=\"fas fa-coins\"></i></div>\r\n\r\n                    <input\r\n                      id=\"card-number\"\r\n                      type=\"number\"\r\n                      className=\"input-input1-transferpoint\"\r\n                      placeholder=\"0\"\r\n                      aria-label=\"amount\"\r\n                      aria-describedby=\"basic-addon1\"\r\n                      onChange={(e) => {\r\n                        setamount(e.target.value);\r\n                      }}\r\n                      required\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"form-group-btn-block-m\">\r\n                  <p className=\"p-form-group-btn\" style={{ color: \"#af0527\" }}>\r\n                    {status}\r\n                  </p>\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn-block-m\"\r\n                    onClick={checkinput}\r\n                  >\r\n                    ตรวจสอบข้อมูล\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </form>\r\n                    </div>*/}\r\n\r\n        <div className=\"container-fluid px-1 px-md-5 px-lg-1 px-xl-5 py-5 mx-auto\">\r\n          <div className=\"card card00 border-0\">\r\n            <div className=\"row d-flex\">\r\n              <div className=\"col-lg-6\">\r\n                <div className=\"row px-3 justify-content-center mt-4 mb-5 border-linee\">\r\n                  {' '}\r\n                  <h1 className=\"h1-to\">คะแนนทั้งหมด : {point}</h1>{' '}\r\n                  <img src=\"images/transac1.png\" className=\"imageee\" />{' '}\r\n                </div>\r\n              </div>\r\n              <div className=\"col-lg-6\">\r\n                <div className=\"card22 card border-0 px-4 py-5\">\r\n                  <div className=\"row px-3 mb-4\">\r\n                    <div className=\"line\"></div>{' '}\r\n                    <small className=\"oror text-center\">โอนคะแนน</small>\r\n                    <div className=\"line\"></div>\r\n                  </div>\r\n                  <div className=\"row px-3\">\r\n                    {' '}\r\n                    <label className=\"mb-1\">\r\n                      <h6 className=\"mb-0 text-smm\">เบอร์โทรศัพท์</h6>\r\n                    </label>{' '}\r\n                    <input\r\n                      id=\"card-holder\"\r\n                      type=\"text\"\r\n                      className=\"input-input1-transferpoint\"\r\n                      placeholder=\"09xxxxxxxx\"\r\n                      aria-label=\"Phone\"\r\n                      aria-describedby=\"basic-addon1\"\r\n                      onChange={(e) => {\r\n                        setdestPhone(e.target.value)\r\n                      }}\r\n                      required\r\n                    />{' '}\r\n                  </div>\r\n                  <div className=\"row px-3\">\r\n                    {' '}\r\n                    <label className=\"mb-1\">\r\n                      <h6 className=\"mb-0 text-smm\">จำนวนคะแนน</h6>\r\n                    </label>{' '}\r\n                    <input\r\n                      min=\"1\"\r\n                      id=\"card-number\"\r\n                      type=\"number\"\r\n                      className=\"input-input1-transferpoint\"\r\n                      placeholder=\"0\"\r\n                      aria-label=\"amount\"\r\n                      aria-describedby=\"basic-addon1\"\r\n                      onChange={(e) => {\r\n                        setamount(e.target.value)\r\n                      }}\r\n                      required\r\n                    />{' '}\r\n                  </div>\r\n                  <div className=\"row mb-3 px-3\">\r\n                    {' '}\r\n                    <p\r\n                      className=\"p-form-group-btn\"\r\n                      style={{ color: '#af0527' }}\r\n                    >\r\n                      {status}\r\n                    </p>\r\n                    <button\r\n                      type=\"button\"\r\n                      className=\"btn-block-m\"\r\n                      onClick={checkinput}\r\n                    >\r\n                      ตรวจสอบข้อมูล\r\n                    </button>{' '}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </motion.div>\r\n    </div>\r\n  )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}