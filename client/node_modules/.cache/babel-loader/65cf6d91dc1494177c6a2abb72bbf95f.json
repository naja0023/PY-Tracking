{"ast":null,"code":"import _slicedToArray from\"D:/login_and_register - Copy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import axios from\"axios\";import{useHistory}from\"react-router\";import{useEffect}from\"react\";import{motion}from\"framer-motion\";import{Loader}from\"semantic-ui-react\";import\"./Menumember.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Menumember(){//----------------------------------------------------------\nvar history=useHistory();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),active=_useState2[0],setactive=_useState2[1];//loader\nvar _useState3=useState(),_useState4=_slicedToArray(_useState3,2),point=_useState4[0],setPoint=_useState4[1];var logout=function logout(){setactive(true);axios.get(\"/logout\");var timer=setTimeout(function(){history.push(\"/home\");},1000);return function(){return clearTimeout(timer);};};var refresh=function refresh(){axios.get(\"/member\");history.go();};var profilepage=function profilepage(){history.push(\"/memberprofile\");};var transferpage=function transferpage(){history.push(\"/transfer-point\");};var transactionpage=function transactionpage(){history.push(\"/transaction\");};var orderhistory=function orderhistory(){history.push(\"/order-history\");};var promotionpage=function promotionpage(){history.push(\"/promotion\");};/* ********************************** */var pageTransition={in:{opacity:1,x:0},out:{opacity:0,x:100}};var navTransition={in:{opacity:1,x:0},out:{opacity:0,x:0}};/* ********************************** */useEffect(function(){axios.get(\"/login\").then(function(response){if(response.data.loggedIn===true){axios.get(\"/member\");setPoint(response.data.user[0].point);}if(response.data.loggedIn===false||response.data.user[0].role!==\"member\"){return history.push(\"/login\");}});},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"menumember-page\",children:[/*#__PURE__*/_jsx(\"link\",{rel:\"stylesheet\",type:\"text/css\",href:\"//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css\"}),/*#__PURE__*/_jsx(\"link\",{href:\"//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css\",rel:\"stylesheet\"}),/*#__PURE__*/_jsx(motion.div,{initial:\"out\",animate:\"in\",exit:\"out\",variants:navTransition,children:/*#__PURE__*/_jsxs(\"nav\",{class:\"navbar navbar-light bg-light justify-content-between\",children:[/*#__PURE__*/_jsxs(\"a\",{className:\"nav-tnc\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"div-img-logo\",children:/*#__PURE__*/_jsx(\"img\",{className:\"img-logoo\",src:\"/images/logo.png\"})}),\"T N C\"]}),/*#__PURE__*/_jsx(\"form\",{class:\"form-inline\",children:/*#__PURE__*/_jsx(\"button\",{onClick:logout,className:\"bn632-hover bn24\",children:\"\\u0E2D\\u0E2D\\u0E01\\u0E08\\u0E32\\u0E01\\u0E23\\u0E30\\u0E1A\\u0E1A\"})})]})}),/*#__PURE__*/_jsx(Loader,{active:active}),/*#__PURE__*/_jsxs(motion.div,{initial:\"out\",animate:\"in\",exit:\"out\",variants:pageTransition,children:[/*#__PURE__*/_jsx(\"div\",{className:\"head-frame\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"data-frame\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-circle\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"div-point_point_1_2\",children:/*#__PURE__*/_jsx(\"p\",{className:\"point_point_1_2\",children:\"\\u0E04\\u0E30\\u0E41\\u0E19\\u0E19\\u0E2A\\u0E30\\u0E2A\\u0E21\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"point_1\",children:point}),/*#__PURE__*/_jsx(\"i\",{onClick:refresh,className:\"fas fa-sync-alt\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"profile-button\",children:/*#__PURE__*/_jsx(\"button\",{onClick:profilepage,className:\"bnmenumember\",children:\"\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\\u0E02\\u0E2D\\u0E07\\u0E09\\u0E31\\u0E19\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"container bootstrap snippets bootdey\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row margin-bottom-10\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 col-sm-6\",children:/*#__PURE__*/_jsxs(\"div\",{onClick:transferpage,className:\"servive-block servive-block-yelloww\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"imgtransaction1\",src:\"images/transferpoint.png\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"heading-md-h2\",children:\"\\u0E42\\u0E2D\\u0E19\\u0E04\\u0E30\\u0E41\\u0E19\\u0E19\"})]})}),/*#__PURE__*/_jsx(\"div\",{onClick:transactionpage,className:\"col-md-4 col-sm-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"servive-block servive-block-purplee\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"imgtransaction1\",src:\"images/transaction.png\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"heading-md-h2\",children:\"\\u0E1B\\u0E23\\u0E30\\u0E27\\u0E31\\u0E15\\u0E34\\u0E01\\u0E32\\u0E23\\u0E42\\u0E2D\\u0E19\\u0E04\\u0E30\\u0E41\\u0E19\\u0E19\"})]})}),/*#__PURE__*/_jsx(\"div\",{onClick:orderhistory,className:\"col-md-4 col-sm-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"servive-block servive-block-aquaa\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"imgtransaction1\",src:\"images/shophistory.png\"}),/*#__PURE__*/_jsx(\"h3\",{class:\"heading-md-h2\",children:\"\\u0E1B\\u0E23\\u0E30\\u0E27\\u0E31\\u0E15\\u0E34\\u0E01\\u0E32\\u0E23\\u0E0B\\u0E37\\u0E49\\u0E2D\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\"})]})}),/*#__PURE__*/_jsx(\"div\",{onClick:promotionpage,className:\"col-md-4 col-sm-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"servive-block servive-block-aquaa\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"imgtransaction1\",src:\"images/promotion.png\"}),/*#__PURE__*/_jsx(\"h3\",{class:\"heading-md-h2\",children:\"\\u0E42\\u0E1B\\u0E23\\u0E42\\u0E21\\u0E0A\\u0E31\\u0E48\\u0E19\"})]})})]})})]})]});}export default Menumember;","map":{"version":3,"sources":["D:/login_and_register - Copy/client/src/components/Menumember.js"],"names":["React","useState","axios","useHistory","useEffect","motion","Loader","Menumember","history","active","setactive","point","setPoint","logout","get","timer","setTimeout","push","clearTimeout","refresh","go","profilepage","transferpage","transactionpage","orderhistory","promotionpage","pageTransition","in","opacity","x","out","navTransition","then","response","data","loggedIn","user","role"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useHistory } from \"react-router\";\r\nimport { useEffect } from \"react\";\r\nimport { motion } from \"framer-motion\";\r\nimport { Loader } from \"semantic-ui-react\";\r\nimport \"./Menumember.css\";\r\n\r\nfunction Menumember() {\r\n  //----------------------------------------------------------\r\n  const history = useHistory();\r\n  const [active, setactive] = useState(false); //loader\r\n  const [point, setPoint] = useState();\r\n\r\n  const logout = () => {\r\n    setactive(true);\r\n    axios.get(\"/logout\");\r\n    const timer = setTimeout(() => {\r\n      history.push(\"/home\");\r\n    }, 1000);\r\n    return () => clearTimeout(timer);\r\n  };\r\n\r\n  const refresh = () => {\r\n    axios.get(\"/member\");\r\n    history.go();\r\n  };\r\n\r\n  const profilepage = () => {\r\n    history.push(\"/memberprofile\");\r\n  };\r\n\r\n  const transferpage = () => {\r\n    history.push(\"/transfer-point\");\r\n  };\r\n\r\n  const transactionpage = () => {\r\n    history.push(\"/transaction\");\r\n  };\r\n\r\n  const orderhistory = () => {\r\n    history.push(\"/order-history\");\r\n  };\r\n\r\n  const promotionpage = () => {\r\n    history.push(\"/promotion\");\r\n  };\r\n\r\n  /* ********************************** */\r\n\r\n  const pageTransition = {\r\n    in: {\r\n      opacity: 1,\r\n      x: 0,\r\n    },\r\n    out: {\r\n      opacity: 0,\r\n      x: 100,\r\n    },\r\n  };\r\n\r\n  const navTransition = {\r\n    in: {\r\n      opacity: 1,\r\n      x: 0,\r\n    },\r\n    out: {\r\n      opacity: 0,\r\n      x: 0,\r\n    },\r\n  };\r\n\r\n  /* ********************************** */\r\n\r\n  useEffect(() => {\r\n    axios.get(\"/login\").then((response) => {\r\n      if (response.data.loggedIn === true) {\r\n        axios.get(\"/member\");\r\n        setPoint(response.data.user[0].point);\r\n      }\r\n      if (\r\n        response.data.loggedIn === false ||\r\n        response.data.user[0].role !== \"member\"\r\n      ) {\r\n        return history.push(\"/login\");\r\n      }\r\n    });\r\n  }, []);\r\n  return (\r\n    <div className=\"menumember-page\">\r\n      <link\r\n        rel=\"stylesheet\"\r\n        type=\"text/css\"\r\n        href=\"//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css\"\r\n      />\r\n      <link\r\n        href=\"//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css\"\r\n        rel=\"stylesheet\"\r\n      ></link>\r\n\r\n      <motion.div\r\n        initial=\"out\"\r\n        animate=\"in\"\r\n        exit=\"out\"\r\n        variants={navTransition}\r\n      >\r\n        <nav class=\"navbar navbar-light bg-light justify-content-between\">\r\n          <a className=\"nav-tnc\">\r\n            <div className=\"div-img-logo\">\r\n              <img className=\"img-logoo\" src=\"/images/logo.png\" />\r\n            </div>\r\n            T N C\r\n          </a>\r\n          <form class=\"form-inline\">\r\n            <button onClick={logout} className=\"bn632-hover bn24\">\r\n              ออกจากระบบ\r\n            </button>\r\n          </form>\r\n        </nav>\r\n      </motion.div>\r\n      <Loader active={active} />\r\n\r\n      <motion.div\r\n        initial=\"out\"\r\n        animate=\"in\"\r\n        exit=\"out\"\r\n        variants={pageTransition}\r\n      >\r\n        <div className=\"head-frame\">\r\n          <div className=\"data-frame\">\r\n            <div className=\"bg-circle\">\r\n              <div className=\"div-point_point_1_2\">\r\n                <p className=\"point_point_1_2\">คะแนนสะสม</p>\r\n              </div>\r\n              <p className=\"point_1\">{point}</p>\r\n              <i onClick={refresh} className=\"fas fa-sync-alt\"></i>\r\n            </div>\r\n            <div className=\"profile-button\">\r\n              <button onClick={profilepage} className=\"bnmenumember\">\r\n                ข้อมูลของฉัน\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"container bootstrap snippets bootdey\">\r\n          <div className=\"row margin-bottom-10\">\r\n            <div className=\"col-md-4 col-sm-6\">\r\n              <div\r\n                onClick={transferpage}\r\n                className=\"servive-block servive-block-yelloww\"\r\n              >\r\n                <img\r\n                  className=\"imgtransaction1\"\r\n                  src=\"images/transferpoint.png\"\r\n                ></img>\r\n                {/*<i className=\"fas fa-exchange-alt\"></i>*/}\r\n                <h3 className=\"heading-md-h2\">โอนคะแนน</h3>\r\n              </div>\r\n            </div>\r\n            <div onClick={transactionpage} className=\"col-md-4 col-sm-6\">\r\n              <div className=\"servive-block servive-block-purplee\">\r\n                <img\r\n                  className=\"imgtransaction1\"\r\n                  src=\"images/transaction.png\"\r\n                ></img>\r\n                {/*<i className=\"fas fa-redo-alt\"></i>*/}\r\n                <h3 className=\"heading-md-h2\">ประวัติการโอนคะแนน</h3>\r\n              </div>\r\n            </div>\r\n            <div onClick={orderhistory} className=\"col-md-4 col-sm-6\">\r\n              <div className=\"servive-block servive-block-aquaa\">\r\n                <img\r\n                  className=\"imgtransaction1\"\r\n                  src=\"images/shophistory.png\"\r\n                ></img>\r\n                {/*<i className=\"fas fa-cart-arrow-down\"></i>*/}\r\n                <h3 class=\"heading-md-h2\">ประวัติการซื้อสินค้า</h3>\r\n              </div>\r\n            </div>\r\n            <div onClick={promotionpage} className=\"col-md-4 col-sm-6\">\r\n              <div className=\"servive-block servive-block-aquaa\">\r\n                <img\r\n                  className=\"imgtransaction1\"\r\n                  src=\"images/promotion.png\"\r\n                ></img>\r\n                {/*<i className=\"fas fa-tag\"></i>*/}\r\n                <h3 class=\"heading-md-h2\">โปรโมชั่น</h3>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </motion.div>\r\n    </div>\r\n  );\r\n}\r\nexport default Menumember;\r\n"]},"metadata":{},"sourceType":"module"}