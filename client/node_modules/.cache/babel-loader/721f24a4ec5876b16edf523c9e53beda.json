{"ast":null,"code":"import _slicedToArray from\"D:/login_and_register - Copy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{useHistory}from\"react-router-dom\";import axios from\"axios\";import\"./Productstockpage.css\";import\"semantic-ui-css/semantic.min.css\";import{Button,Header,Icon,Modal}from\"semantic-ui-react\";import{Loader}from\"semantic-ui-react\";import{Link}from\"react-router-dom\";import{motion}from\"framer-motion\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Productstockpage(){var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),open=_React$useState2[0],setOpen=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),openEdit=_React$useState4[0],setOpenEdit=_React$useState4[1];var _useState=useState(true),_useState2=_slicedToArray(_useState,2),active=_useState2[0],setactive=_useState2[1];//-----------------------------------------------\nvar history=useHistory();var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),name=_useState4[0],setName=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),productlist=_useState6[0],setproductlist=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),picture=_useState8[0],setpicture=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),product_id=_useState10[0],setproduct_id=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),product_name=_useState12[0],setproduct_name=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),product_code=_useState14[0],setproduct_code=_useState14[1];var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),price=_useState16[0],setprice=_useState16[1];var _useState17=useState(\"\"),_useState18=_slicedToArray(_useState17,2),category=_useState18[0],setcategory=_useState18[1];//-----------------------------------------------\nvar goAddstock=function goAddstock(){history.push(\"/addstock\");};var deleteproduct=function deleteproduct(){axios.post(\"/deleteproduct\",{id:product_id,picture:picture}).then(function(response){if(response.data.message){alert(response.data.message);history.go();}});};/* ********************************** */var pageTransition={in:{opacity:1,x:0},out:{opacity:0,x:100}};/* ********************************** */useEffect(function(){var timer=setTimeout(function(){setactive(false);axios.get(\"/login\").then(function(response){if(response.data.loggedIn===true){setName(response.data.user[0].name);axios.get(\"/getproduct\").then(function(response){if(response.data){setproductlist(response.data);}});}if(response.data.loggedIn===false||response.data.user[0].role!==\"shop\"){return history.push(\"/login\");}});},1000);return function(){return clearTimeout(timer);};},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"ProductStockPage\",children:[/*#__PURE__*/_jsxs(Modal,{onClose:function onClose(){return setOpenEdit(false);},onOpen:function onOpen(){return setOpenEdit(true);},open:openEdit,style:{width:\"100%\"},children:[/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:100},animate:{opacity:1,y:0},exit:{opacity:0,y:100},children:[/*#__PURE__*/_jsx(\"h2\",{className:\"modal-header-productstock\",children:\"\\u0E41\\u0E01\\u0E49\\u0E44\\u0E02\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\"}),/*#__PURE__*/_jsxs(Modal.Content,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"div-modal-label-productstock\",children:/*#__PURE__*/_jsx(\"label\",{className:\"modal-label-productstock\",children:\"\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"div-productstock\",children:/*#__PURE__*/_jsx(\"input\",{className:\"modal-input-productstock\",value:product_name,onChange:function onChange(e){setproduct_name(e.target.value);}})}),/*#__PURE__*/_jsx(\"div\",{className:\"div-modal-label-productstock\",children:/*#__PURE__*/_jsx(\"label\",{className:\"modal-label-productstock\",children:\"\\u0E23\\u0E2B\\u0E31\\u0E2A\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"div-productstock\",children:/*#__PURE__*/_jsx(\"input\",{className:\"modal-input-productstock\",value:product_code,onChange:function onChange(e){setproduct_code(e.target.value);}})}),/*#__PURE__*/_jsx(\"div\",{className:\"div-modal-label-productstock\",children:/*#__PURE__*/_jsx(\"label\",{className:\"modal-label-productstock\",children:\"\\u0E23\\u0E32\\u0E04\\u0E32\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"div-productstock\",children:/*#__PURE__*/_jsx(\"input\",{className:\"modal-input-productstock\",value:price,type:\"number\",onChange:function onChange(e){setprice(e.target.value);}})}),/*#__PURE__*/_jsx(\"div\",{className:\"div-modal-label-productstock\",children:/*#__PURE__*/_jsx(\"label\",{className:\"modal-label-productstock\",children:\"\\u0E2B\\u0E21\\u0E27\\u0E14\\u0E2B\\u0E21\\u0E39\\u0E48\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"div-productstock\",children:/*#__PURE__*/_jsx(\"input\",{className:\"modal-input-productstock\",value:category,onChange:function onChange(e){setcategory(e.target.value);}})})]})]}),/*#__PURE__*/_jsx(Modal.Actions,{children:/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:100},animate:{opacity:1,y:0},exit:{opacity:0,y:100},children:[/*#__PURE__*/_jsx(Button,{className:\"button1-productstock\",color:\"red\",onClick:function onClick(){setOpenEdit(false);setOpen(false);},children:\"\\u0E22\\u0E01\\u0E40\\u0E25\\u0E34\\u0E01\"}),/*#__PURE__*/_jsx(Button,{className:\"button1-productstock\",content:\"\\u0E1A\\u0E31\\u0E19\\u0E17\\u0E36\\u0E01\",labelPosition:\"right\",icon:\"checkmark\",onClick:function onClick(){return setOpenEdit(false);},positive:true})]})})]}),/*#__PURE__*/_jsx(Modal,{basic:true,onClose:function onClose(){return setOpen(false);},onOpen:function onOpen(){return setOpen(true);},open:open,size:\"small\",style:{width:\"100%\",top:\"40%\"},children:/*#__PURE__*/_jsx(Header,{icon:true,children:/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:100},animate:{opacity:1,y:0},exit:{opacity:0,y:100},children:[/*#__PURE__*/_jsx(\"div\",{className:\"buttoniconedit\",children:/*#__PURE__*/_jsxs(Button,{color:\"green\",inverted:true,onClick:function onClick(){return setOpenEdit(true);},children:[/*#__PURE__*/_jsx(\"div\",{className:\"iconedit\",children:/*#__PURE__*/_jsx(Icon,{name:\"edit\"})}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u0E41\\u0E01\\u0E49\\u0E44\\u0E02\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"buttoniconedit\",children:/*#__PURE__*/_jsxs(Button,{className:\"buttoniconedit\",color:\"red\",inverted:true,onClick:function onClick(){return deleteproduct();},children:[/*#__PURE__*/_jsx(\"div\",{className:\"iconedit\",children:/*#__PURE__*/_jsx(Icon,{name:\"trash\"})}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u0E25\\u0E1A\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"buttoniconedit\",children:/*#__PURE__*/_jsxs(Button,{className:\"buttoniconedit\",color:\"red\",inverted:true,onClick:function onClick(){return setOpen(false);},children:[/*#__PURE__*/_jsx(\"div\",{className:\"iconedit\",children:/*#__PURE__*/_jsx(Icon,{name:\"cancel\"})}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u0E22\\u0E01\\u0E40\\u0E25\\u0E34\\u0E01\"})]})})]})})}),/*#__PURE__*/_jsxs(\"nav\",{className:\"navbar navbar-light bg-light justify-content-between\",children:[/*#__PURE__*/_jsx(Link,{className:\"buttonblack\",to:\"/\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-angle-left\",children:/*#__PURE__*/_jsx(\"a\",{className:\"bl\",children:\"\\u0E22\\u0E49\\u0E2D\\u0E19\\u0E01\\u0E25\\u0E31\\u0E1A\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"div-img-logo2\",children:/*#__PURE__*/_jsx(\"img\",{className:\"img-logoo\",src:\"/images/logo.png\"})})]}),/*#__PURE__*/_jsxs(motion.div,{initial:\"out\",animate:\"in\",exit:\"out\",variants:pageTransition,children:[/*#__PURE__*/_jsx(\"div\",{className:\"toppic-promotin\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"h2promotionmember\",children:\"\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\\u0E02\\u0E2D\\u0E07\\u0E04\\u0E38\\u0E13\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"shopbox-promotinnnnn\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"button-cotainerpromotionnnn\",onClick:goAddstock,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-cart-plus\"}),\"\\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32\\u0E02\\u0E2D\\u0E07\\u0E04\\u0E38\\u0E13\"]})}),/*#__PURE__*/_jsx(Loader,{active:active}),/*#__PURE__*/_jsx(\"div\",{className:\"top-productstck\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container-productstck\",children:productlist.map(function(product){return/*#__PURE__*/_jsxs(\"div\",{className:\"shopbox-productstck\",onClick:function onClick(){setproduct_id(product.id);setpicture(product.picture);setproduct_name(product.product_name);setproduct_code(product.product_code);setprice(product.price);setcategory(product.category);setOpen(true);},children:[/*#__PURE__*/_jsx(\"div\",{className:\"shopbox-img\",children:/*#__PURE__*/_jsx(\"img\",{className:\"img-fluid-shopbox\",src:product.picture,style:{height:\"100px\"}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"boxproductstck\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"p-productstck\",children:[\"\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32 : \",product.product_name]}),/*#__PURE__*/_jsxs(\"p\",{className:\"p-productstck\",children:[\"\\u0E23\\u0E2B\\u0E31\\u0E2A\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32 : \",product.product_code]}),/*#__PURE__*/_jsxs(\"p\",{className:\"p-productstck\",children:[\"\\u0E23\\u0E32\\u0E04\\u0E32 : \",product.price]}),/*#__PURE__*/_jsxs(\"p\",{className:\"p-productstck\",children:[\"\\u0E2B\\u0E21\\u0E27\\u0E14\\u0E2B\\u0E21\\u0E39\\u0E48 : \",product.category]})]})]});})})})]})]});}export default Productstockpage;","map":{"version":3,"sources":["D:/login_and_register - Copy/client/src/components/Productstockpage.js"],"names":["React","useState","useEffect","useHistory","axios","Button","Header","Icon","Modal","Loader","Link","motion","Productstockpage","open","setOpen","openEdit","setOpenEdit","active","setactive","history","name","setName","productlist","setproductlist","picture","setpicture","product_id","setproduct_id","product_name","setproduct_name","product_code","setproduct_code","price","setprice","category","setcategory","goAddstock","push","deleteproduct","post","id","then","response","data","message","alert","go","pageTransition","in","opacity","x","out","timer","setTimeout","get","loggedIn","user","role","clearTimeout","width","y","e","target","value","top","map","product","height"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport \"./Productstockpage.css\";\r\nimport \"semantic-ui-css/semantic.min.css\";\r\nimport { Button, Header, Icon, Modal } from \"semantic-ui-react\";\r\nimport { Loader } from \"semantic-ui-react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { motion } from \"framer-motion\";\r\n\r\nfunction Productstockpage() {\r\n  const [open, setOpen] = React.useState(false);\r\n  const [openEdit, setOpenEdit] = React.useState(false);\r\n  const [active, setactive] = useState(true);\r\n  //-----------------------------------------------\r\n  const history = useHistory();\r\n  const [name, setName] = useState(\"\");\r\n  const [productlist, setproductlist] = useState([]);\r\n  const [picture, setpicture] = useState(\"\");\r\n  const [product_id, setproduct_id] = useState();\r\n  const [product_name, setproduct_name] = useState(\"\");\r\n  const [product_code, setproduct_code] = useState(\"\");\r\n  const [price, setprice] = useState(\"\");\r\n  const [category, setcategory] = useState(\"\");\r\n  //-----------------------------------------------\r\n  const goAddstock = () => {\r\n    history.push(\"/addstock\");\r\n  };\r\n\r\n  const deleteproduct = () => {\r\n    axios\r\n      .post(\"/deleteproduct\", { id: product_id, picture: picture })\r\n      .then((response) => {\r\n        if (response.data.message) {\r\n          alert(response.data.message);\r\n          history.go();\r\n        }\r\n      });\r\n  };\r\n\r\n  /* ********************************** */\r\n\r\n  const pageTransition = {\r\n    in: {\r\n      opacity: 1,\r\n      x: 0,\r\n    },\r\n    out: {\r\n      opacity: 0,\r\n      x: 100,\r\n    },\r\n  };\r\n\r\n  /* ********************************** */\r\n\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => {\r\n      setactive(false);\r\n      axios.get(\"/login\").then((response) => {\r\n        if (response.data.loggedIn === true) {\r\n          setName(response.data.user[0].name);\r\n          axios.get(\"/getproduct\").then((response) => {\r\n            if (response.data) {\r\n              setproductlist(response.data);\r\n            }\r\n          });\r\n        }\r\n        if (\r\n          response.data.loggedIn === false ||\r\n          response.data.user[0].role !== \"shop\"\r\n        ) {\r\n          return history.push(\"/login\");\r\n        }\r\n      });\r\n    }, 1000);\r\n    return () => clearTimeout(timer);\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"ProductStockPage\">\r\n      <Modal\r\n        onClose={() => setOpenEdit(false)}\r\n        onOpen={() => setOpenEdit(true)}\r\n        open={openEdit}\r\n        style={{ width: \"100%\" }}\r\n      >\r\n        <motion.div initial={{ opacity: 0, y: 100 }} animate={{ opacity: 1, y: 0 }} exit={{ opacity: 0, y: 100 }}>\r\n          <h2 className=\"modal-header-productstock\">แก้ไขสินค้า</h2>\r\n          <Modal.Content>\r\n\r\n            <div className=\"div-modal-label-productstock\">\r\n              <label className=\"modal-label-productstock\">ชื่อสินค้า</label>\r\n            </div>\r\n            <div className=\"div-productstock\">\r\n              <input\r\n                className=\"modal-input-productstock\"\r\n                value={product_name}\r\n                onChange={(e) => {\r\n                  setproduct_name(e.target.value);\r\n                }}\r\n              />\r\n            </div>\r\n            <div className=\"div-modal-label-productstock\">\r\n              <label className=\"modal-label-productstock\">รหัสสินค้า</label>\r\n            </div>\r\n            <div className=\"div-productstock\">\r\n              <input\r\n                className=\"modal-input-productstock\"\r\n                value={product_code}\r\n                onChange={(e) => {\r\n                  setproduct_code(e.target.value);\r\n                }}\r\n              />\r\n            </div>\r\n            <div className=\"div-modal-label-productstock\">\r\n              <label className=\"modal-label-productstock\">ราคา</label>\r\n            </div>\r\n            <div className=\"div-productstock\">\r\n              <input\r\n                className=\"modal-input-productstock\"\r\n                value={price}\r\n                type=\"number\"\r\n                onChange={(e) => {\r\n                  setprice(e.target.value);\r\n                }}\r\n              />\r\n            </div>\r\n            <div className=\"div-modal-label-productstock\">\r\n              <label className=\"modal-label-productstock\">หมวดหมู่</label>\r\n            </div>\r\n            <div className=\"div-productstock\">\r\n              <input\r\n                className=\"modal-input-productstock\"\r\n                value={category}\r\n                onChange={(e) => {\r\n                  setcategory(e.target.value);\r\n                }}\r\n              />\r\n            </div>\r\n\r\n          </Modal.Content>\r\n        </motion.div>\r\n\r\n\r\n        <Modal.Actions>\r\n          <motion.div initial={{ opacity: 0, y: 100 }} animate={{ opacity: 1, y: 0 }} exit={{ opacity: 0, y: 100 }}>\r\n            <Button\r\n              className=\"button1-productstock\"\r\n              color=\"red\"\r\n              onClick={() => {\r\n                setOpenEdit(false);\r\n                setOpen(false);\r\n              }}\r\n            >\r\n              ยกเลิก\r\n            </Button>\r\n            <Button\r\n              className=\"button1-productstock\"\r\n              content=\"บันทึก\"\r\n              labelPosition=\"right\"\r\n              icon=\"checkmark\"\r\n              onClick={() => setOpenEdit(false)}\r\n              positive\r\n            />\r\n          </motion.div>\r\n        </Modal.Actions>\r\n\r\n      </Modal>\r\n\r\n      <Modal\r\n        basic\r\n        onClose={() => setOpen(false)}\r\n        onOpen={() => setOpen(true)}\r\n        open={open}\r\n        size=\"small\"\r\n        style={{ width: \"100%\", top: \"40%\" }}\r\n      >\r\n        <Header icon>\r\n          <motion.div initial={{ opacity: 0, y: 100 }} animate={{ opacity: 1, y: 0 }} exit={{ opacity: 0, y: 100 }}>\r\n            <div className=\"buttoniconedit\">\r\n              <Button color=\"green\" inverted onClick={() => setOpenEdit(true)}>\r\n                <div className=\"iconedit\">\r\n                  <Icon name=\"edit\" />\r\n                </div>\r\n                <p>แก้ไข</p>\r\n              </Button>\r\n            </div>\r\n            <div className=\"buttoniconedit\">\r\n              <Button\r\n                className=\"buttoniconedit\"\r\n                color=\"red\"\r\n                inverted\r\n                onClick={() => deleteproduct()}\r\n              >\r\n                <div className=\"iconedit\">\r\n                  <Icon name=\"trash\" />\r\n                </div>\r\n                <p>ลบ</p>\r\n              </Button>\r\n            </div>\r\n            <div className=\"buttoniconedit\">\r\n              <Button\r\n                className=\"buttoniconedit\"\r\n                color=\"red\"\r\n                inverted\r\n                onClick={() => setOpen(false)}\r\n              >\r\n                <div className=\"iconedit\">\r\n                  <Icon name=\"cancel\" />\r\n                </div>\r\n                <p>ยกเลิก</p>\r\n              </Button>\r\n            </div>\r\n          </motion.div>\r\n        </Header>\r\n      </Modal>\r\n\r\n      <nav className=\"navbar navbar-light bg-light justify-content-between\">\r\n        <Link className=\"buttonblack\" to=\"/\">\r\n          <i className=\"fas fa-angle-left\">\r\n            <a className=\"bl\">ย้อนกลับ</a>\r\n          </i>\r\n        </Link>\r\n        <div className=\"div-img-logo2\">\r\n          <img className=\"img-logoo\" src=\"/images/logo.png\" />\r\n        </div>\r\n      </nav>\r\n\r\n      <motion.div\r\n        initial=\"out\"\r\n        animate=\"in\"\r\n        exit=\"out\"\r\n        variants={pageTransition}\r\n      >\r\n        {/* แต่งไว้หน้า promotion */}\r\n        <div className=\"toppic-promotin\">\r\n          <h2 className=\"h2promotionmember\">สินค้าของคุณ</h2>\r\n        </div>\r\n        <div className=\"shopbox-promotinnnnn\">\r\n          <button className=\"button-cotainerpromotionnnn\" onClick={goAddstock}>\r\n            <i className=\"fas fa-cart-plus\"></i>เพิ่มสินค้าของคุณ\r\n          </button>\r\n        </div>\r\n\r\n        <Loader active={active} />\r\n        {/* แต่งไว้หน้า promotion */}\r\n        <div className=\"top-productstck\">\r\n          <div className=\"container-productstck\">\r\n            {productlist.map((product) => {\r\n              return (\r\n                <div\r\n                  className=\"shopbox-productstck\"\r\n                  onClick={() => {\r\n                    setproduct_id(product.id);\r\n                    setpicture(product.picture);\r\n                    setproduct_name(product.product_name);\r\n                    setproduct_code(product.product_code);\r\n                    setprice(product.price);\r\n                    setcategory(product.category);\r\n                    setOpen(true);\r\n                  }}\r\n                >\r\n                  {/*shopbox-img แต่งไว้ที่ promotionshop*/}\r\n                  <div className=\"shopbox-img\">\r\n                    <img className=\"img-fluid-shopbox\" src={product.picture} style={{height : \"100px\"}}/>\r\n                  </div>\r\n\r\n                  <div className=\"boxproductstck\">\r\n                    <p className=\"p-productstck\">\r\n                      ชื่อสินค้า : {product.product_name}\r\n                    </p>\r\n                    <p className=\"p-productstck\">\r\n                      รหัสสินค้า : {product.product_code}\r\n                    </p>\r\n                    <p className=\"p-productstck\">ราคา : {product.price}</p>\r\n                    <p className=\"p-productstck\">\r\n                      หมวดหมู่ : {product.category}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      </motion.div>\r\n    </div>\r\n  );\r\n}\r\nexport default Productstockpage;\r\n"]},"metadata":{},"sourceType":"module"}